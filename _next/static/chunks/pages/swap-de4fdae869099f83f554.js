_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{"+QRC":function(e,t,n){"use strict";var a=n("E9nw"),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,o,i,s,c,l,u=!1;t||(t={}),n=t.debug||!1;try{if(i=a(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),"undefined"===typeof a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=r[t.format]||r.default;window.clipboardData.setData(o,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),i()}return u}},"+iC2":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n("svBA"),r="utm_source";function o(){return localStorage.getItem(r)}function i(e){!o()&&e&&(localStorage.setItem(r,e),a.a.identify(a.a.user("userId"),{utm_source_custom:e}))}},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},FRZj:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Te}));var a=n("MX0m"),r=n.n(a),o=n("q1tI"),i=n.n(o),s=n("Bl7J"),c=n("85Sb"),l=n("rJ65"),u=n("gYMh"),d=n("Z6YE"),p=n("bExK"),x=n("4NwK"),m=n("vJKn"),f=n.n(m),b=n("cpVT"),g=n("rg98"),h=n("Eg+e"),j=n("LvDl"),v=n("Nzxa"),w=n("3DnH"),k=n("wDBh"),y=n("1aPc"),O=n("svBA"),N=n("u41U"),S=i.a.createElement,_=Object(y.a)((function(e){var t=e.coin,n=e.contractToApprove,a=e.isLast,s=e.swapMetadata,c=e.storeTransaction,l=e.storeTransactionError,u=e.rpcProvider,d=e.onApproved,m=e.isApproved,b=e.onMintingError,j=Object(o.useState)(m?"done":"approve"),v=j[0],y=j[1],_=Object(o.useState)(null),C=_[0],E=_[1],A=Object(h.b)(x.a,(function(e){return e.connectorName})),D=Object(N.b)(A),T=Object(h.b)(w.a,(function(e){return e.contracts||{}})),F=T.vault,U=T.flipper,P=T.usdt,z=T.dai,M=T.usdc,R=T.xusd,I={vault:F,flipper:U};return Object(o.useEffect)((function(){"dai"===t?E(z):"usdt"===t?E(P):"usdc"===t?E(M):"xusd"===t&&E(R)}),[]),S(i.a.Fragment,null,S("div",{className:"jsx-1122865064 "+"currency-row d-flex align-items-center ".concat(a?"last":"")},S("img",{src:"/images/currency/".concat(t,"-icon-small.svg"),className:"jsx-1122865064 icon"}),"approve"===v&&S(i.a.Fragment,null,p.fbt._("Permission to use {coin-name}",[p.fbt._param("coin-name",t.toUpperCase())],{hk:"HVBGd"}),S("a",{onClick:function(){var e=Object(g.a)(f.a.mark((function e(a){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O.a.track("On Approve Coin",{category:"swap",label:s.coinGiven,value:parseInt(s.swapAmount)}),y("waiting-user"),e.prev=2,r=k.ethers.constants.MaxUint256,e.next=6,C.approve(I[n].address,r);case 6:return o=e.sent,c(o,"approve",t),y("waiting-network"),e.next=11,u.waitForTransaction(o.hash);case 11:e.sent,O.a.track("Approval Successful",{category:"swap",label:s.coinGiven,value:parseInt(s.swapAmount)}),d&&d(),y("done"),e.next=29;break;case 17:if(e.prev=17,e.t0=e.catch(2),b(e.t0),console.error("Exception happened: ",e.t0),y("approve"),4001===e.t0.code){e.next=28;break}return e.next=25,l("approve",t);case 25:O.a.track("Approval failed",{category:"swap",label:e.t0.message}),e.next=29;break;case 28:O.a.track("Approval canceled",{category:"swap"});case 29:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),className:"jsx-1122865064 blue-btn d-flex align-items-center justify-content-center"},p.fbt._("Approve",null,{hk:"4gGbfA"}))),"waiting-user"===v&&S(i.a.Fragment,null,p.fbt._("Waiting for you to confirm...",null,{hk:"1YneSG"}),S("img",{src:"/images/".concat(D),className:"jsx-1122865064 waiting-icon ml-auto"})),"waiting-network"===v&&S(i.a.Fragment,null,p.fbt._("Approving {coin-name}",[p.fbt._param("coin-name",t.toUpperCase()+"...")],{hk:"LgRz1"}),S("img",{src:"/images/spinner-green-small.png",className:"jsx-1122865064 waiting-icon rotating ml-auto"})),"done"===v&&S(i.a.Fragment,null,p.fbt._("{coin-name}",[p.fbt._param("coin-name",t.toUpperCase()+" approved")],{hk:"1Fd3QA"}),S("img",{src:"/images/green-check.svg",className:"jsx-1122865064 waiting-icon ml-auto"}))),S(r.a,{id:"1122865064"},[".currency-row.jsx-1122865064{padding-top:13px;padding-bottom:13px;border-bottom:1px solid #dde5ec;}",".currency-row.last.jsx-1122865064{border-bottom:0px;}",".icon.jsx-1122865064{margin-right:10px;width:30px;height:30px;}",".waiting-icon.jsx-1122865064{width:30px;height:30px;}",".blue-btn.jsx-1122865064{margin-left:auto;height:35px;border-radius:25px;background-color:#1a82ff;padding-left:19px;padding-right:19px;color:white;cursor:pointer;}",".blue-btn.jsx-1122865064:hover{background-color:#0a72ef;-webkit-text-decoration:none;text-decoration:none;}",".rotating.jsx-1122865064{-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-webkit-animation:spin-jsx-1122865064 2s linear infinite;animation:spin-jsx-1122865064 2s linear infinite;}","@-moz-keyframes spin{100%.jsx-1122865064{-moz-transform:rotate(360deg);}}","@-webkit-keyframes spin{100%.jsx-1122865064{-webkit-transform:rotate(360deg);}}","@-webkit-keyframes spin-jsx-1122865064{100%{-webkit-transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes spin-jsx-1122865064{100%{-webkit-transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]))})),C=i.a.createElement,E=function(e){var t=e.swapMetadata,n=e.swapMode,a=e.stableCoinToApprove,s=e.onClose,c=e.contractToApprove,l=e.onFinalize,u=e.buyWidgetState,d=e.onMintingError,m=(Object(h.b)(x.a,(function(e){return e.balances.xusd||0})),Object(o.useState)(!1)),b=m[0],j=m[1],v=Object(h.b)(x.a,(function(e){return e.connectorName})),w=Object(N.b)(v);return C(i.a.Fragment,null,C("div",{onClick:s,className:"jsx-1300486862 approve-modal d-flex"},C("div",{onClick:function(e){e.stopPropagation()},className:"jsx-1300486862 modal-body shadowed-box d-flex flex-column"},C("div",{className:"jsx-1300486862 body-coins d-flex flex-column"},C("h2",{className:"jsx-1300486862"},p.fbt._("Approve to swap XUSD",null,{hk:"45YgGI"})),C("div",{className:"jsx-1300486862 currencies"},C(_,{onApproved:function(){j(!0)},contractToApprove:c,isApproved:b,coin:a,isLast:!0,swapMetadata:t,onMintingError:d}))),C("div",{className:"jsx-1300486862 body-actions d-flex align-items-center justify-content-center"},"buy"===u&&C("button",{disabled:!b,onClick:function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),b){e.next=3;break}return e.abrupt("return");case 3:return O.a.track("mint"===n?"On Swap to XUSD":"On Swap from XUSD",{category:"swap",label:t.stablecoinUsed,value:t.swapAmount}),e.next=6,l();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"jsx-1300486862 btn-blue d-flex align-items-center justify-content-center"},p.fbt._("Swap",null,{hk:"416oku"})),"modal-waiting-user"===u&&C("div",{className:"jsx-1300486862 d-flex align-items-center justify-content-center"},C("img",{src:"/images/".concat(w),className:"jsx-1300486862 waiting-icon"}),p.fbt._("Waiting for you to confirm...",null,{hk:"1YneSG"})),"modal-waiting-network"===u&&p.fbt._("Swapping XUSD...",null,{hk:"1VWWOx"})))),C(r.a,{id:"1300486862"},[".approve-modal.jsx-1300486862{position:absolute;border-radius:0px 0px 10px 10px;border:solid 1px #cdd7e0;background-color:rgba(250,251,252,0.6);top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:10;padding-left:110px;padding-right:110px;}",".approve-modal.jsx-1300486862 h2.jsx-1300486862{font-size:18px;font-weight:bold;color:#183140;margin-bottom:7px;}",".modal-body.jsx-1300486862{background-color:white;place-self:center;padding:0px;}",".body-coins.jsx-1300486862{padding:20px 20px 0px 20px;}",".body-actions.jsx-1300486862{min-height:95px;background-color:#f2f3f5;border-radius:0px 0px 10px 10px;border-top:solid 1px #cdd7e0;}",".waiting-icon.jsx-1300486862{width:30px;height:30px;margin-right:10px;}","@media (max-width:799px){.approve-modal.jsx-1300486862{padding-left:30px;padding-right:30px;}}"]))},A=n("P5Jw"),D=n("CV0S"),T=n("BDpz"),F=i.a.createElement,U=Object(D.a)((function(e){var t=e.onClose,n=e.isMobile,a=Object(h.b)(w.a,(function(e){return e.contracts&&e.contracts.xusd.address})),s=Object(T.d)(),c=Object(o.useState)(!1),l=c[0],u=c[1],d=Object(h.b)(x.a,(function(e){return e.connectorName})),m=Object(N.b)(d);return F(i.a.Fragment,null,F("div",{onClick:function(e){t()},className:"jsx-4226249075 add-xusd-modal d-flex"},F("div",{onClick:function(e){e.stopPropagation()},className:"jsx-4226249075 modal-body shadowed-box d-flex flex-column align-items-center justify-content-center"},F("div",{className:"jsx-4226249075 d-flex justify-content-center align-items-center mb-4"},F("img",{src:"/images/xusd-token-icon.svg",className:"jsx-4226249075 icon"}),F("img",{src:"/images/arrow-icon-dark.svg",className:"jsx-4226249075 icon small"}),F("img",{src:"/images/".concat(m),className:"jsx-4226249075 icon"})),"metamask"===s&&F(i.a.Fragment,null,F("div",{className:"jsx-4226249075 title"},p.fbt._("Track XUSD balance in Wallet",null,{hk:"1hEubV"})),F("button",{onClick:function(e){Object(T.h)(a),t()},className:"jsx-4226249075 btn-blue mt-4 ml-auto mr-auto"},p.fbt._("Add to MetaMask",null,{hk:"1fsmou"}))),"metamask"!==s&&F("div",{className:"jsx-4226249075 contents d-flex flex-column align-items-center"},F("div",{className:"jsx-4226249075 title"},p.fbt._("Track XUSD balance in your Wallet",null,{hk:"4EJkSR"})),F(A.CopyToClipboard,{onCopy:function(){l||(u(!0),setTimeout((function(){u(!1)}),4e3),O.a.track("On Vault address copied to clipboard",{category:"general"}))},text:a},F("div",{className:"jsx-4226249075"},l&&F("div",{className:"jsx-4226249075 mt-2 copied"},p.fbt._("Copied",null,{hk:"4frChF"})),!l&&F("div",{className:"jsx-4226249075 d-flex address-button mt-2 justify-content-center"},F("div",{className:"jsx-4226249075 copy-text"},n&&F("div",{className:"jsx-4226249075"},a.substring(0,21),F("br",{className:"jsx-4226249075"}),a.substring(21)),!n&&a),F("div",{className:"jsx-4226249075 copy-image d-flex align-items-center justify-content-center"},F("img",{src:"/images/clipboard-icon.svg",className:"jsx-4226249075 clipboard-icon"}))))),F("div",{className:"jsx-4226249075 d-flex justify-content-center mt-2 small-text"},F("div",{className:"jsx-4226249075"},p.fbt._("Decimals:",null,{hk:"3ox8zX"})),F("div",{className:"jsx-4226249075 ml-1"},"18")),F("button",{onClick:function(e){t()},className:"jsx-4226249075 btn-blue mt-4 ml-auto mr-auto"},p.fbt._("Close",null,{hk:"I4fM0"}))))),F(r.a,{id:"4226249075"},[".add-xusd-modal.jsx-4226249075{position:absolute;border-radius:0px 0px 10px 10px;border:solid 1px #cdd7e0;background-color:rgba(250,251,252,0.6);top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:10;padding-left:50px;padding-right:50px;}",".modal-body.jsx-4226249075{background-color:white;place-self:center;padding:45px 20px 30px 20px;}",".title.jsx-4226249075{font-family:Lato;font-size:18px;font-weight:bold;color:#183140;margin-bottom:7px;text-align:center;white-space:nowrap;}",".icon.jsx-4226249075{width:40px;height:40px;margin-left:10px;margin-right:10px;}",".icon.small.jsx-4226249075{width:24px;height:24px;margin-left:5px;margin-right:5px;}",".clipboard-icon.jsx-4226249075{width:20px;height:20px;}",".small-text.jsx-4226249075{font-family:lato;font-size:12px;color:#8293a4;font-weight:500;}",".copy-text.jsx-4226249075{border:1px solid #cdd7e0;border-radius:5px 0px 0px 5px;padding:3px 10px;text-align:center;cursor:pointer;font-weight:500;}",".copied.jsx-4226249075{color:#00d592;text-align:center;font-weight:500;}",".copy-image.jsx-4226249075{border:1px solid #cdd7e0;border-radius:0px 5px 5px 0px;border-left:0px;min-width:35px;cursor:pointer;}",".contents.jsx-4226249075{max-width:250px;}",".btn-blue.jsx-4226249075{line-height:1.2;}","@media (max-width:799px){.add-xusd-modal.jsx-4226249075{padding-left:30px;padding-right:30px;}.small-text.jsx-4226249075{min-width:150px;}}"]))})),P=i.a.createElement,z=function(e){var t=e.error,n=e.errorMap,a=e.onClose,o=e.showRefreshButton,s=e.reason,c=Object(h.b)(x.a,(function(e){return e.connectorName})),l=Object(N.b)(c);return P(i.a.Fragment,null,P("div",{onClick:a,className:"jsx-3611378244 error-modal d-flex"},P("div",{onClick:function(e){e.stopPropagation()},className:"jsx-3611378244 error-modal-body shadowed-box d-flex flex-column"},P("div",{className:"jsx-3611378244 body-coins d-flex flex-column"},P("div",{className:"jsx-3611378244 d-flex align-items-center error"},P("img",{src:"/images/".concat(l),className:"jsx-3611378244 connector-icon"}),void 0!==s&&s,n&&function(){var e=n.filter((function(e){return e.errorCheck(t)}))[0];return e?e.friendlyMessage:t.message}())),P("div",{className:"jsx-3611378244 body-actions d-flex align-items-center justify-content-center"},o&&P("div",{className:"jsx-3611378244"},P("button",{onClick:function(e){location.reload()},className:"jsx-3611378244 btn-blue mt-4"},p.fbt._("Refresh",null,{hk:"328Qia"})))))),P(r.a,{id:"3611378244"},[".error-modal.jsx-3611378244{position:absolute;border-radius:0px 0px 10px 10px;border:solid 1px #cdd7e0;background-color:rgba(250,251,252,0.6);top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:2;padding-left:110px;padding-right:110px;}",".error-modal-body.jsx-3611378244{background-color:white;place-self:center;padding:20px;}",".error-modal-body.jsx-3611378244 .error.jsx-3611378244{color:rgb(237 41 40);line-height:1.3;}",".connector-icon.jsx-3611378244{width:30px;height:30px;margin-right:15px;}","@media (max-width:799px){.error-modal.jsx-3611378244{padding-left:30px;padding-right:30px;}}"]))},M=(n("6fhh"),n("fRX3")),R=i.a.createElement,I=function(e){e.show;var t=Object(h.b)(v.a,(function(e){return e.transactions})),n=Object.keys(M.a).map((function(e){return"approve-".concat(e)})),a=t.filter((function(e){return n.includes(e.type)&&!e.mined})),o=a.map((function(e){return e.type.substr(e.type.indexOf("-")+1)})),s=Object(h.b)(x.a,(function(e){return e.connectorName})),c=Object(N.b)(s);return 0===a.length?"":R(i.a.Fragment,null,R("div",{className:"jsx-1650497826 approve-modal d-flex"},R("div",{onClick:function(e){e.stopPropagation()},className:"jsx-1650497826 modal-body shadowed-box d-flex flex-column"},R("div",{className:"jsx-1650497826 body-coins d-flex flex-column"},R("img",{src:"/images/".concat(c),className:"jsx-1650497826 login-icon"}),R("h2",{className:"jsx-1650497826"},p.fbt._("Waiting for {coins-name} to be approved",[p.fbt._param("coins-name",o.join(", ").toUpperCase())],{hk:"ftHBZ"}))))),R(r.a,{id:"1650497826"},[".approve-modal.jsx-1650497826{position:absolute;border-radius:0px 0px 10px 10px;border:solid 1px #cdd7e0;background-color:rgba(250,251,252,0.6);top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:10;padding-left:160px;padding-right:160px;}",".approve-modal.jsx-1650497826 h2.jsx-1650497826{font-size:18px;text-align:center;color:#183140;}",".modal-body.jsx-1650497826{background-color:white;place-self:center;padding:0px;}",".body-coins.jsx-1650497826{padding:20px;}",".login-icon.jsx-1650497826{height:50px;margin-bottom:20px;}"]))},X=function(e){var t=Object(o.useState)(null),n=t[0],a=t[1],r="selected_price_tolerance_".concat(e);Object(o.useEffect)((function(){var e=.5,t=localStorage.getItem(r);if(t){var n=parseFloat(t);null===n||void 0===n||Number.isNaN(n)||(e=n)}i(e)}),[]);var i=function(e){a(e),localStorage.setItem(r,e)};return{setPriceToleranceValue:i,priceToleranceValue:n,dropdownToleranceOptions:[.25,.5,1]}},B=n("ydnR"),L=n("7cBs"),V=function(e){var t=e.swapMode,n=e.inputAmountRaw,a=e.outputAmount,r=e.selectedCoin,i=e.priceToleranceValue,s=Object(o.useState)(!1),c=s[0],l=s[1],u=Object(h.b)(w.a,(function(e){return e.contracts})),d=u.vault,p=(u.xusd,u.usdt,u.usdc,u.dai,u.flipper),m=Object(h.b)(w.a,(function(e){return e.coinInfoList})),b=Object(h.b)(x.a,(function(e){return e.allowances})),j=Object(h.b)(x.a,(function(e){return e.balances})),v=(Object(h.b)(x.a,(function(e){return e.address})),Object(h.b)(w.a,(function(e){return e.swapEstimations})),Object(h.b)(w.a,(function(e){return e.selectedSwap}))),k="object"===typeof b&&b.xusd&&b.usdt&&b.usdc&&b.dai,y=m["mint"===t?r:"xusd"],O=y.contract,N=y.decimals;if("redeem"!==t||"mix"!==r){var S=m["redeem"===t?r:"xusd"];S.contract,S.decimals}var _=parseFloat(n),C=Object(L.b)(n,N,i),E=C.swapAmount,A=C.minSwapAmount;Object(o.useEffect)((function(){if(_&&v&&b&&0!==Object.keys(b)){var e={vault:"vault",flipper:"flipper"},n="mint"===t?r:"xusd";if("xusd"===n&&"vault"===v.name)l(!1);else{if(void 0===e[v.name])throw new Error("Can not fetch contract: ".concat(v.name," allowance for coin: ").concat(n));l(Object.keys(b).length>0&&parseFloat(b[n][e[v.name]])<_&&v.name)}}}),[t,_,b,r,v]);var D=function(){var e=Object(g.a)(f.a.mark((function e(t,n,a){var r,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:{},e.next=3,t.mint(O.address,n,a,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(d.estimateGas,t,n);case 2:return e.abrupt("return",e.sent.toNumber());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(f.a.mark((function e(){var t,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(L.b)(a,18,i),n=t.minSwapAmount,e.next=3,T(E,n);case 3:return r=e.sent,o=parseInt(r+Math.max(B.mintAbsoluteGasLimitBuffer,r*B.mintPercentGasLimitBuffer)),e.next=7,D(d,E,n,{gasLimit:o});case 7:return e.t0=e.sent,e.t1=E,e.t2=n,e.abrupt("return",{result:e.t0,swapAmount:e.t1,minSwapAmount:e.t2});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(f.a.mark((function e(t,n,a){var r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>3&&void 0!==r[3]?r[3]:{},!(Math.abs(n-j.xusd)<1)){e.next=8;break}return e.next=5,t.redeemAll(a);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,t.redeem(n,a);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(d.estimateGas,t,n);case 2:return e.abrupt("return",e.sent.toNumber());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{allowancesLoaded:k,needsApproval:c,mintVault:F,mintVaultGasEstimate:T,redeemVault:function(){var e=Object(g.a)(f.a.mark((function e(){var t,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(L.b)(a,18,i),n=t.minSwapAmount,e.next=3,P(E,n);case 3:return r=e.sent,o=parseInt(r*(1+B.redeemPercentGasLimitBuffer)),e.next=7,U(d,E,n,{gasLimit:o});case 7:return e.t0=e.sent,e.t1=E,e.t2=n,e.abrupt("return",{result:e.t0,swapAmount:e.t1,minSwapAmount:e.t2});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),redeemVaultGasEstimate:P,swapFlipper:function(){var e=Object(g.a)(f.a.mark((function e(){var a,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(L.b)(n,18),o=a.swapAmount,"mint"!==t){e.next=20;break}if("dai"!==r){e.next=8;break}return e.next=5,p.buyXusdWithDai(o);case 5:i=e.sent,e.next=18;break;case 8:if("usdt"!==r){e.next=14;break}return e.next=11,p.buyXusdWithUsdt(o);case 11:i=e.sent,e.next=18;break;case 14:if("usdc"!==r){e.next=18;break}return e.next=17,p.buyXusdWithUsdc(o);case 17:i=e.sent;case 18:e.next=36;break;case 20:if("dai"!==r){e.next=26;break}return e.next=23,p.sellXusdForDai(o);case 23:i=e.sent,e.next=36;break;case 26:if("usdt"!==r){e.next=32;break}return e.next=29,p.sellXusdForUsdt(o);case 29:i=e.sent,e.next=36;break;case 32:if("usdc"!==r){e.next=36;break}return e.next=35,p.sellXusdForUsdc(o);case 35:i=e.sent;case 36:return e.abrupt("return",{result:i,swapAmount:E,minSwapAmount:A});case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},G=i.a.createElement,W=function(e){var t=e.onBackgroundClick,n=e.content;return G(i.a.Fragment,null,G("div",{onClick:function(e){t&&t()},className:"jsx-342289296 buy-sell-modal d-flex"},G("div",{onClick:function(e){e.stopPropagation()},className:"jsx-342289296 modal-body shadowed-box d-flex align-items-center justify-content-center"},n)),G(r.a,{id:"342289296"},[".buy-sell-modal.jsx-342289296{position:absolute;border-radius:0px 0px 10px 10px;border:solid 1px #cdd7e0;background-color:rgba(250,251,252,0.6);top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:10;padding-left:110px;padding-right:110px;}",".modal-body.jsx-342289296{background-color:white;place-self:center;padding:30px 20px;}","@media (max-width:799px){.buy-sell-modal.jsx-342289296{padding-left:30px;padding-right:30px;}}"]))},J=n("IBBB"),Y=n("lwPf"),Q=i.a.createElement,Z=function(e){var t=e.color,n=void 0===t?"#608fcf":t,a=e.size,r=void 0===a?"30":a;return Q("svg",{style:{marginRight:-13},width:r,height:r,viewBox:"0 0 20 20"},Q("g",{stroke:n,strokeWidth:"1",strokeLinecap:"round"},Q("line",{x1:"7",y1:"9",x2:"10",y2:"12"}),Q("line",{x1:"10",y1:"12",x2:"13",y2:"9"})))},H=function(e){var t=e.small,n=e.coin,a=e.isSemiTransparent,o="coin-image ".concat(void 0!==a&&a?"transparent":"");return Q("div",{className:"jsx-1966474508 d-flex align-items-center"},"mix"!==n&&Q("img",{src:"/images/currency/".concat(n,"-icon-small.svg"),className:"jsx-1966474508 "+"".concat(o," ").concat(t?"small":"")}),"mix"===n&&Q("div",{className:"jsx-1966474508 d-flex align-items-start"},Q("img",{src:"/images/currency/dai-icon-small.svg",className:"jsx-1966474508 "+"".concat(o," mixed coin-1 ").concat(t?"small":"")}),Q("img",{src:"/images/currency/usdt-icon-small.svg",className:"jsx-1966474508 "+"".concat(o," mixed coin-2 ").concat(t?"small":"")}),Q("img",{src:"/images/currency/usdc-icon-small.svg",className:"jsx-1966474508 "+"".concat(o," mixed coin-3 ").concat(t?"small":"")})),Q(r.a,{id:"1966474508"},[".coin-image.jsx-1966474508{width:26px;height:26px;}",".coin-image.transparent.jsx-1966474508{opacity:0.3;}",".coin-image.small.jsx-1966474508{width:14px;height:14px;}",".mixed.jsx-1966474508{position:relative;}",".coin-1.jsx-1966474508{z-index:1;}",".coin-2.jsx-1966474508{z-index:2;margin-left:-9px;}",".coin-3.jsx-1966474508{z-index:3;margin-left:-9px;}"]))},q=function(e){var t=e.selected,n=e.onChange,a=e.options,s=void 0===a?[]:a,c=Object(o.useState)(!1),l=c[0],u=c[1];return 0===s.length?Q(i.a.Fragment,null,Q("div",{className:"jsx-1422462092 coin-select d-flex align-items-center justify-content-start"},Q(H,{coin:t}),Q("div",{className:"jsx-1422462092 coin text-uppercase mr-auto"},t)),Q(r.a,{id:"1422462092"},[".coin-select.jsx-1422462092{min-width:160px;min-height:40px;padding:7px 20px 7px 7px;font-size:18px;}",".coin.jsx-1422462092{color:black;margin-left:12px;}"])):Q(i.a.Fragment,null,Q(J.a,{content:Q("div",{className:"jsx-2596275694 dropdown-menu show wrapper d-flex flex-column"},s.map((function(e){return Q("div",{key:e,onClick:function(t){n(e),u(!1)},className:"jsx-2596275694 "+"".concat("xusd"===e?"xusd":"","  d-flex justify-content-start align-items-center p-5px dropdown-item")},Q(H,{coin:e,isSemiTransparent:"xusd"===e}),Q("div",{className:"jsx-2596275694 "+"coin ".concat("mix"===e?"text-capitalize":"text-uppercase"," mr-auto")},e))}))),open:l,onClose:function(){return u(!1)}},Q("div",{onClick:function(e){e.preventDefault(),u(!l)},className:"jsx-2596275694 coin-select d-flex align-items-center justify-content-start"},Q(H,{coin:t}),Q("div",{className:"jsx-2596275694 "+"coin ".concat("mix"===t?"text-capitalize":"text-uppercase"," mr-auto")},t),Q(Z,null))),Q(r.a,{id:"2596275694"},[".dropdown-menu.jsx-2596275694{padding:10px;right:auto;left:0;top:100%;}",".coin-select.jsx-2596275694{min-width:160px;min-height:40px;padding:7px 20px 7px 7px;border-radius:20px;border:solid 1px #cdd7e0;background-color:white;cursor:pointer;}",".coin-select.jsx-2596275694:hover{background-color:#f2f3f5;}",".p-5px.jsx-2596275694{padding:5px;}",".single-coin.jsx-2596275694{width:26px;height:26px;}",".cursor-pointer.jsx-2596275694{cursor:pointer;}",".dropdown-item.jsx-2596275694{cursor:pointer;}",".dropdown-item.xusd.jsx-2596275694 .coin.jsx-2596275694{color:#18314055;}",".dropdown-item.jsx-2596275694:hover{background-color:#f2f3f5;}",".coin.jsx-2596275694{color:black;margin-left:12px;}","@media (max-width:799px){.coin-select.jsx-2596275694{min-width:120px;min-height:32px;padding:4px 14px 4px 4px;}.coin.jsx-2596275694{color:black;margin-left:8px;}}"]))},K=function(e){var t=e.topItem,n=e.onSelectChange,a=e.onAmountChange,s=(e.amountEditable,e.selectedCoin),c=e.selectedSwap,l=e.swapsLoaded,u=e.swapsLoading,d=e.priceToleranceValue,m=e.swapMode,f=e.onErrorChange,b=e.coinValue,g=Object(h.b)(x.a,(function(e){return e.balances})),j=Object(o.useState)(null),v=j[0],w=j[1],k=["xusd","dai","usdt","usdc"],y=["xusd","mix","dai","usdt","usdc"],O=!t,N="redeem"===m&&t||"mint"===m&&O,S=function(e){return Object(L.g)(e,{minDecimals:2,maxDecimals:6,truncate:!0})};Object(o.useEffect)((function(){f&&f(v)}),[v]),Object(o.useEffect)((function(){_()}),[b,m,s]);var _=function(){O||w(parseFloat(g["mint"===m?s:"xusd"])<parseFloat(b)?p.fbt._("Insufficient balance",null,{hk:"4Dmty7"}):null)},C=function(){var e=function(e){return Object(L.e)(parseFloat(e),2)};return N?{coin:"xusd",balance:e(g.xusd),detailedBalance:S(g.xusd)}:"mix"===s?null:{coin:s,balance:e(g[s]),detailedBalance:S(g[s])}}(),E=N?[]:t?k:y,A=O&&c&&c.amountReceived&&Object(L.e)(c.amountReceived,2),D=O&&c&&c.amountReceived&&d?c.amountReceived-c.amountReceived*d/100:null,T=O&&c&&c.coinSplits,F=t&&C&&Object(L.h)(C.detailedBalance)===Object(L.h)(b),U=t&&C&&!F&&parseFloat(C.balance)>0,P=l&&!c,z=function(e){if(e.preventDefault(),U&&C){var t=Object(L.h)(C.detailedBalance);a(t)}};return Q(i.a.Fragment,null,Q("div",{className:"jsx-2393594484 "+"currency-pill d-flex flex-column ".concat(t?"topItem":"")},Q("div",{className:"jsx-2393594484 d-flex align-items-start justify-content-between currency-pill-inner"},Q("div",{className:"jsx-2393594484 d-flex flex-column justify-content-between align-items-start h-100"},Q(q,{selected:N?"xusd":s,onChange:function(e){n(e)},options:E}),Q("div",{className:"jsx-2393594484 d-flex align-items-center"},Q("div",{onClick:z,className:"jsx-2393594484 "+"d-flex justify-content-between balance mt-auto mr-2 ".concat(U?"clickable":"")},C&&Q("div",{className:"jsx-2393594484"},p.fbt._("Balance: {coin-balance}",[p.fbt._param("coin-balance",C.balance)],{hk:"4C7Yf2"}),Q("span",{className:"jsx-2393594484 text-uppercase ml-1"},C.coin)),U&&Q("a",{onClick:z,className:"jsx-2393594484 max-link ml-2"},p.fbt._("Max",null,{hk:"1TrN3T"}))))),Q("div",{className:"jsx-2393594484 d-flex flex-column justify-content-between align-items-end h-100 input-holder"},t&&Q("input",{type:"text",value:b,placeholder:"0.00",onChange:function(e){var t=Object(L.i)(e.target.value),n=Object(L.h)(t);Object(L.c)(n,s)&&a(n)},onBlur:function(e){var t=Object(L.h)(S(b));a(t)},className:"jsx-2393594484"}),t&&v&&Q("div",{className:"jsx-2393594484 error"},v),O&&Q("div",{className:"jsx-2393594484 expected-value"},A||(u?p.fbt._("Loading...",null,{hk:"3iJUtJ"}):"-")),O&&Q("div",{className:"jsx-2393594484 balance mt-auto"},null!==D?p.fbt._("Min. received: {xusd-amount} XUSD",[p.fbt._param("xusd-amount",Object(L.e)(D,2))],{hk:"1RYkwN"}):t?"":"-"),O&&P&&Q("div",{className:"jsx-2393594484 error"},p.fbt._("Route for selected swap not available",null,{hk:"35MmxU"})))),T&&Q("div",{className:"jsx-2393594484 d-flex flex-column multiple-balance-holder"},T.map((function(e){return Q("div",{key:e.coin,className:"jsx-2393594484 d-flex justify-content-between align-items-center balance multiple-balance"},Q("div",{className:"jsx-2393594484 d-flex justify-content-start align-items-center"},Q(H,{small:!0,coin:e.coin}),Q("div",{className:"jsx-2393594484 text-uppercase ml-5px"},e.coin)),Q("div",{className:"jsx-2393594484"},Object(L.e)(e.amount,2)))})))),Q(r.a,{id:"2393594484"},[".currency-pill.jsx-2393594484{min-height:90px;margin-bottom:10px;padding:10px 23px 14px 10px;border:solid 1px #cdd7e0;border-radius:10px;background-color:white;}",".currency-pill-inner.jsx-2393594484{height:80px;}",".balance.jsx-2393594484{font-size:12px;color:#8293a4;margin-left:4px;}",".error.jsx-2393594484{font-size:12px;color:#ed2a28;margin-left:4px;}",".multiple-balance.jsx-2393594484{margin-top:6px;}",".multiple-balance-holder.jsx-2393594484{border-top:1px solid #cdd7e0;margin-left:-10px;margin-right:-24px;padding-left:10px;padding-right:24px;margin-top:10px;padding-top:4px;}",".mt-20.jsx-2393594484{margin-top:20px;}",".mt-10.jsx-2393594484{margin-top:10px;}",".coin.jsx-2393594484{width:15px;height:15px;margin-right:5px;}","input.jsx-2393594484{border:0px;text-align:right;font-size:24px;color:#183140;background-color:transparent;}",".expected-value.jsx-2393594484{font-size:24px;color:#8293a4;}",".ml-5px.jsx-2393594484{margin-left:5px;}",".max-link.jsx-2393594484:hover,.clickable.jsx-2393594484:hover{-webkit-text-decoration:underline;text-decoration:underline;}",".clickable.jsx-2393594484{cursor:pointer;}",".max-link.jsx-2393594484{font-size:12px;color:#8293a4;weight:bold;cursor:pointer;}","@media (max-width:799px){.input-holder.jsx-2393594484{max-width:50%;}input.jsx-2393594484{font-size:20px;}.expected-value.jsx-2393594484{font-size:20px;}.balance.jsx-2393594484{font-size:10px;margin-left:4px;white-space:nowrap;}.max-link.jsx-2393594484{font-size:10px;}}"]))},$=i.a.createElement,ee=function(e){var t=e.swapMode,n=e.disableRotation,a=e.color,o=void 0===a?"#8293a4":a;return $("div",{className:"jsx-3809058569 "+"image-holder ".concat("redeem"!==t||n?"rotated":"")},$("div",{className:"jsx-3809058569 image-holder-internal"}),$("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",viewBox:"0 0 12 13",className:"jsx-3809058569"},$("g",{fill:"none",fillRule:"evenodd",className:"jsx-3809058569"},$("g",{fill:o,fillRule:"nonzero",className:"jsx-3809058569"},$("g",{className:"jsx-3809058569"},$("path",{d:"M315 338.712L321.012 332.7 319.95 331.638 315.738 335.832 315.738 326.688 314.262 326.688 314.262 335.832 310.086 331.638 308.988 332.7z",transform:"translate(-559.000000, -523.000000) translate(250.000000, 197.000000)",className:"jsx-3809058569"}))))),$(r.a,{id:"3809058569"},[".image-holder.jsx-3809058569{z-index:3;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);-webkit-transition:-webkit-transform 0.4s ease-out;-webkit-transition:transform 0.4s ease-out;transition:transform 0.4s ease-out;}",".image-holder.rotated.jsx-3809058569{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}",".image-holder-internal.jsx-3809058569{margin-bottom:-2px;}"]))},te=function(e){var t=e.swapMode,n=e.setSwapMode;return $("div",{className:"jsx-2208086739 w-100 d-flex justify-content-center h-0 position-relative"},$("div",{className:"jsx-2208086739 pill-arrow d-flex align-items-center justify-content-center position-absolute"},$("div",{className:"jsx-2208086739 border-divider position-absolute"}),$("div",{onClick:function(){n("mint"===t?"redeem":"mint")},className:"jsx-2208086739 caret-background position-absolute d-flex align-items-center justify-content-center"},$(ee,{disableRotation:!0,swapMode:t}))),$(r.a,{id:"2208086739"},[".pill-arrow.jsx-2208086739{width:40px;height:40px;border:1px solid #cdd7e0;background-color:#fafbfc;border-radius:50px;margin-top:-25px;z-index:1;}",".border-divider.jsx-2208086739{height:10px;background-color:#fafbfc;width:40px;z-index:1;}",".caret-background.jsx-2208086739{width:24px;height:24px;border:solid 1px #cdd7e0;background-color:#f2f3f5;z-index:2;border-radius:30px;cursor:pointer;}",".caret-background.jsx-2208086739:hover{background-color:#e2e3e5;}"]))},ne=n("4218"),ae=i.a.createElement,re=function(e){var t=e.setPriceToleranceValue,n=e.priceToleranceValue,a=e.dropdownToleranceOptions,i=Object(o.useState)(!1),s=i[0],c=i[1];return ae("div",{className:"jsx-2645930188 dropdown-holder"},ae(J.a,{className:"d-flex align-items-center min-h-42",content:ae("div",{className:"jsx-2645930188 d-flex flex-column dropdown-menu show"},a.map((function(e){return ae("div",{key:e,onClick:function(a){a.preventDefault(),e!==n&&O.a.track("On price tolerance change",{category:"settings",label:e}),t(e),c(!1)},className:"jsx-2645930188 "+"price-tolerance-option ".concat(n===e?"selected":"")},e,"%")}))),open:s,onClose:function(){return c(!1)}},ae("div",{onClick:function(e){c(!s)},className:"jsx-2645930188 price-tolerance-selected d-flex justify-content-between"},ae("div",{className:"jsx-2645930188"},n?"".concat(n,"%"):"..."),ae("div",{className:"jsx-2645930188"},ae("img",{src:"/images/caret-left-grey.svg",className:"jsx-2645930188 tolerance-caret"})))),ae(r.a,{id:"2645930188"},[".price-tolerance-selected.jsx-2645930188{cursor:pointer;font-weight:normal;padding:6px 18px;border-radius:5px;border:solid 1px #cdd7e0;background-color:#f2f3f5;min-width:120px;min-height:40px;}",".tolerance-caret.jsx-2645930188{width:5px;height:7px;-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);margin-left:6px;}",".dropdown-menu.jsx-2645930188{top:115%;left:0;right:auto;padding:15px;}",".price-tolerance-option.jsx-2645930188{cursor:pointer;}",".price-tolerance-option.selected.jsx-2645930188{cursor:auto;color:#8293a4;}"]))},oe=function(e){var t=e.setPriceToleranceValue,n=e.priceToleranceValue,a=e.dropdownToleranceOptions,i=Object(o.useState)(!1),s=i[0],c=i[1],l=Object(h.b)(w.a,(function(e){return e.gasPrice}));return ae("div",{className:"jsx-694123721 dropdown-holder"},ae(J.a,{className:"d-flex align-items-center min-h-42",content:ae("div",{className:"jsx-694123721 d-flex flex-column dropdown-menu show"},ae("div",{className:"jsx-694123721 d-flex justify-content-between align-items-center"},ae("div",{className:"jsx-694123721 setting-title"},p.fbt._("Price tolerance",null,{hk:"4hLPyn"})),ae(re,{setPriceToleranceValue:t,priceToleranceValue:n,dropdownToleranceOptions:a})),ae("div",{className:"jsx-694123721 d-flex justify-content-between align-items-center margin-top"},ae("div",{className:"jsx-694123721 setting-title"},p.fbt._("Gas price",null,{hk:"3AcEJA"})),ae("div",{className:"jsx-694123721 d-flex gas-price-holder"},ae("div",{className:"jsx-694123721 w-50"},ae("input",{type:"number",value:Math.floor(l/Math.pow(10,9)),onChange:function(e){var t=e.target.value;t<0&&(t=0),t=Math.floor(t),t*=Math.pow(10,9),O.a.track("On gas setting change",{category:"settings",label:t}),w.a.update((function(e){e.gasPrice=ne.a.from(t),e.isGasPriceUserOverriden=!0}))},className:"jsx-694123721 w-100 h-100"})),ae("div",{className:"jsx-694123721 w-50 d-flex align-items-center justify-content-center gwei"},"GWEI")))),open:s,onClose:function(){return c(!1)}},ae("img",{src:"/images/settings-icon.svg",onClick:function(e){var t=!s;c(t),t&&O.a.track("On open settings",{category:"settings"})},className:"jsx-694123721 settings-icon"})),ae(r.a,{id:"694123721"},[".dropdown-holder.jsx-694123721{position:absolute;top:15px;right:15px;}",".dropdown-menu.jsx-694123721{top:115%;left:0;right:auto;min-width:290px;padding:18px 18px 18px 20px;}",".settings-icon.jsx-694123721{width:18px;height:18px;cursor:pointer;}",".setting-title.jsx-694123721{font-size:14px;font-weight:bold;color:#8293a4;}",".margin-top.jsx-694123721{margin-top:15px;}",".gas-price-holder.jsx-694123721{min-width:120px;min-height:40px;border-radius:5px;border:solid 1px #cdd7e0;background-color:#f2f3f5;}","input.jsx-694123721{max-width:60px;border:0px;font-size:14px;font-weight:normal;color:black;text-align:center;border-radius:5px 0 0 5px;background-color:#f2f3f5;}",".gwei.jsx-694123721{font-size:14px;color:#8293a4;background-color:white;border-radius:0 5px 5px 0;border-left:solid 1px #cdd7e0;}","@media (max-width:799px){.dropdown-holder.jsx-694123721{top:7px;right:7px;}.dropdown-menu.jsx-694123721{top:115%;right:0;left:auto;padding:12px 12px 12px 14px;}}"]))},ie=n("UeZE"),se=n("xvhg");var ce=function(e){var t,n=e.swapMode,a=e.inputAmountRaw,r=e.selectedCoin,i=e.priceToleranceValue,s=Object(h.b)(w.a,(function(e){return e.contracts})),c=Object(h.b)(w.a,(function(e){return e.chainId})),l=Object(h.b)(w.a,(function(e){return e.coinInfoList})),u=Object(h.b)(w.a,(function(e){return e.vaultAllocateThreshold})),d=Object(h.b)(w.a,(function(e){return e.vaultRebaseThreshold})),p=Object(h.b)(w.a,(function(e){return e.gasPrice})),m=Object(Y.b)(p),b=Object(h.b)(w.a,(function(e){return e.isGasPriceUserOverriden})),v=Object(h.b)(x.a,(function(e){return e.balances})),y=l["mint"===n?r:"xusd"],O=y.contract,N=y.decimals;if("redeem"!==n||"mix"!==r){var S=l["redeem"===n?r:"xusd"];S.contract,t=S.decimals}var _=Object(h.b)(x.a,(function(e){return e.allowances})),C="object"===typeof _&&void 0!==_.xusd&&void 0!==_.usdt&&void 0!==_.usdc&&void 0!==_.dai,E=(Object(h.b)(x.a,(function(e){return e.account})),Object(o.useState)(!1)),A=(E[0],E[1]),D=Object(o.useState)(null),T=D[0],F=D[1],U=V({swapMode:n,inputAmountRaw:a,selectedCoin:r,priceToleranceValue:i}),P=U.mintVaultGasEstimate,z=U.redeemVaultGasEstimate,M=Object(L.b)(a,N,i),R=M.swapAmount,I=(M.minSwapAmount,Object(h.b)(w.a,(function(e){return e.swapEstimations}))),X=Object(h.b)(w.a,(function(e){return e.walletConnected}));Object(o.useEffect)((function(){var e=I&&"object"===typeof I,t=e&&Object(j.find)(Object.values(I),(function(e){return e.userSelected})),n=e&&Object(j.find)(Object.values(I),(function(e){return t?e.userSelected:e.isBest}));w.a.update((function(e){e.selectedSwap=n}))}),[I]),Object(o.useEffect)((function(){te()}),[]),Object(o.useEffect)((function(){if(X&&(b||m===p)&&C){T&&clearTimeout(T);var e=parseFloat(a);e>0&&!Number.isNaN(e)?F(setTimeout(Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(n,r,a);case 2:case"end":return e.stop()}}),e)}))),700)):w.a.update((function(e){e.swapEstimations=null}))}}),[n,r,a,C,X,b,p]);var B,G=function(){var e=Object(g.a)(f.a.mark((function e(t,a,r){var o,i,s,c,l,u,d,x;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.a.update((function(e){e.swapEstimations="loading"})),o=p,"mint"!==n){e.next=12;break}return e.next=6,Promise.all([Z(),K()]);case 6:c=e.sent,l=Object(se.a)(c,2),i=l[0],s=l[1],e.next=19;break;case 12:return e.next=15,Promise.all([H(),K()]);case 15:u=e.sent,d=Object(se.a)(u,2),i=d[0],s=d[1];case 19:if(b){e.next=23;break}return e.next=22,te();case 22:o=e.sent;case 23:x=W(x={vault:i},o,s,r),w.a.update((function(e){e.swapEstimations=x}));case 26:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),W=function(e,t,n,a){Object.keys(e).map((function(t){var n=e[t];n.name=t,n.isBest=!1,n.userSelected=!1,e[t]=n}));var r=Object.values(e).filter((function(e){return e.canDoSwap})),o=parseFloat(a);r.map((function(e){var a=J(e.gasUsed,t,n),r=parseFloat(a),i=parseFloat(e.amountReceived);e.gasEstimate=a,e.effectivePrice=(o+r)/i}));var i=Object(j.minBy)(r,(function(e){return e.effectivePrice}));return i&&(i.isBest=!0,r.map((function(e){e!==i&&(e.diff=e.effectivePrice-i.effectivePrice,e.diffPercentage=(i.effectivePrice-e.effectivePrice)/i.effectivePrice*100)}))),e},J=function(e,t,n){if(!t||!n)return null;var a=Math.floor(n);return k.ethers.utils.formatUnits(t.mul(ne.a.from(a)).mul(ne.a.from(e)).toString(),18)},Q=function(e,t){return parseFloat(v[e])>t},Z=function(){var e=Object(g.a)(f.a.mark((function e(){var n,o,c,l,p,x,m,b,g;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseFloat(a),e.prev=1,e.next=4,s.vault.priceUSDMint(O.address);case 4:if(o=e.sent,c=n*parseFloat(k.ethers.utils.formatUnits(o,18)),0!==parseFloat(_[r].vault)&&Q(r,n)){e.next=12;break}return l=parseFloat(k.ethers.utils.formatUnits(d,18)),p=parseFloat(k.ethers.utils.formatUnits(u,18)),x=22e4,n>p?x=29e5:n>l&&(x=52e4),e.abrupt("return",{canDoSwap:!0,gasUsed:x,amountReceived:c});case 12:return m=Object(L.b)(c,t,i),b=m.minSwapAmount,e.next=15,P(R,b);case 15:return g=e.sent,e.abrupt("return",{canDoSwap:!0,gasUsed:g,amountReceived:c});case 19:if(e.prev=19,e.t0=e.catch(1),console.error("Unexpected error estimating vault swap suitability: ".concat(e.t0.message)),!(e.t0.data&&e.t0.data.message&&e.t0.data.message.includes("Mint amount lower than minimum")||e.t0.message.includes("Mint amount lower than minimum"))){e.next=24;break}return e.abrupt("return",{canDoSwap:!1,error:"slippage_too_high"});case 24:return e.abrupt("return",{canDoSwap:!1,error:"unexpected_error"});case 25:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(g.a)(f.a.mark((function e(){var n,o,s,c,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mix"===r){e.next=2;break}return e.abrupt("return",{canDoSwap:!1,error:"unsupported"});case 2:return n=parseFloat(a),e.prev=3,e.next=6,q();case 6:return e.next=8,ae(n);case 8:if(s=e.sent,c=s.map((function(e){return parseFloat(e.amount)})).reduce((function(e,t){return e+t}),0),Q("xusd",n)){e.next=12;break}return e.abrupt("return",{canDoSwap:!0,gasUsed:15e5,amountReceived:c,coinSplits:s});case 12:return l=Object(L.b)(c,t,i),u=l.minSwapAmount,e.next=15,z(R,u);case 15:return o=e.sent,e.abrupt("return",{canDoSwap:!0,gasUsed:o,amountReceived:c,coinSplits:s});case 19:if(e.prev=19,e.t0=e.catch(3),console.error("Can not estimate contract call gas used: ".concat(e.t0.message)),!(e.t0.data&&e.t0.data.message&&e.t0.data.message.includes("Redeem amount lower than minimum")||e.t0.message.includes("Redeem amount lower than minimum"))){e.next=24;break}return e.abrupt("return",{canDoSwap:!1,error:"slippage_too_high"});case 24:return e.abrupt("return",{canDoSwap:!1,error:"unexpected_error"});case 25:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=5;break}return e.next=3,s.vault.redeemFeeBps();case 3:t=e.sent,B=parseFloat(k.ethers.utils.formatUnits(t,4));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(43114!==c){e.next=6;break}return e.next=3,ee();case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,$();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://min-api.cryptocompare.com/data/price?fsym=AVAX&tsyms=USD");case 3:return t=e.sent,e.t0=ne.a,e.t1=Math,e.t2=j.get,e.next=9,t.json();case 9:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3,"USD"),e.t5=e.t1.floor.call(e.t1,e.t4),n=e.t0.from.call(e.t0,e.t5),A(n),e.abrupt("return",n);case 17:e.prev=17,e.t6=e.catch(0),console.error("Can not fetch eth prices: ".concat(e.t6.message));case 20:return e.abrupt("return",ne.a.from(0));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.chainlinkEthAggregator.latestRoundData();case 3:return t=e.sent,n=parseFloat(k.ethers.utils.formatUnits(t.answer,8)),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("Error happened fetching eth usd chainlink data:",e.t0);case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(g.a)(f.a.mark((function e(){var t,n,a,r,o,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,n=ne.a.from(0),a="000000000",r=ne.a.from("25"+a),o=function(){var e=Object(g.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={jsonrpc:"2.0",method:n,params:[],id:t.toString()},t++,e.next=4,fetch("https://api.avax.network/ext/bc/C/rpc",{method:"POST",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 4:if(!(r=e.sent).ok){e.next=11;break}return e.t0=j.get,e.next=9,r.json();case 9:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"result"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=5,e.next=8,o("eth_baseFee");case 8:if(!(i=e.sent).ok){e.next=19;break}return e.t0=ne.a,e.t1=j.get,e.next=14,i.json();case 14:e.t2=e.sent,e.t3=(0,e.t1)(e.t2,"result"),e.t4=a,e.t5=e.t3+e.t4,r=e.t0.from.call(e.t0,e.t5);case 19:return e.next=21,o("eth_maxPriorityFeePerGas");case 21:if(!(s=e.sent).ok){e.next=32;break}return e.t6=ne.a,e.t7=j.get,e.next=27,s.json();case 27:e.t8=e.sent,e.t9=(0,e.t7)(e.t8,"result"),e.t10=a,e.t11=e.t9+e.t10,n=e.t6.from.call(e.t6,e.t11);case 32:b||w.a.update((function(e){e.gasPrice=r})),e.next=38;break;case 35:e.prev=35,e.t12=e.catch(5),console.error("Can not fetch gas prices, defaulting to 25 nAVAX: ".concat(e.t12.message));case 38:return e.abrupt("return",r.add(n));case 39:case"end":return e.stop()}}),e,null,[[5,35]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(g.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.vault.calculateRedeemOutputs(k.ethers.utils.parseUnits(t.toString(),18));case 3:return n=e.sent,e.t0=Promise,e.next=7,s.vault.getAllAssets();case 7:return e.t1=e.sent.map(function(){var e=Object(g.a)(f.a.mark((function e(t,a){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.keys(s).find((function(e){return s[e]&&s[e].address.toLowerCase()===t.toLowerCase()})),o=k.ethers.utils.formatUnits(n[a],l[r].decimals),e.abrupt("return",{coin:r,amount:o});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=10,e.t0.all.call(e.t0,e.t1);case 10:return a=e.sent,e.abrupt("return",a);case 14:return e.prev=14,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),e.next=3,n();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{estimateMintSuitabilityVault:Z,estimateRedeemSuitabilityVault:H}},le=n("+iC2");var ue=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current},de=(n("jih+"),i.a.createElement),pe="last_user_selected_coin",xe="last_user_selected_swap_mode",me=Object(D.a)(Object(y.a)((function(e){var t=e.storeTransaction,n=e.storeTransactionError,a=e.rpcProvider,s=(e.isMobile,Object(h.b)(x.a,(function(e){return e.allowances}))),c=Object(h.b)(v.a,(function(e){return e.transactions.filter((function(e){return!e.mined&&"mint"===e.type}))})),l=Object(h.b)(x.a,(function(e){return e.balances})),u=(Object(h.b)(w.a,(function(e){return e.xusdExchangeRates})),Object(h.b)(w.a,(function(e){return e.swapEstimations}))),d=u&&"object"===typeof u,m=Object(h.b)(w.a,(function(e){return e.selectedSwap})),j=Object(o.useState)(""),k=(j[0],j[1],Object(o.useState)(0)),y=(k[0],k[1],Object(o.useState)(!1)),S=(y[0],y[1],Object(o.useState)(null)),_=S[0],C=S[1],A=Object(o.useState)(!1),D=(A[0],A[1],Object(o.useState)([])),F=(D[0],D[1],Object(o.useState)("redeem now")),P=(F[0],F[1],Object(o.useState)(null)),R=(P[0],P[1],Object(o.useState)("buy")),B=R[0],G=R[1],J=Object(o.useState)(!1),Y=(J[0],J[1],Object(o.useState)(localStorage.getItem(xe)||"mint")),Q=Y[0],Z=Y[1],H=ue(Q),q=Object(o.useState)(!1),$=q[0],ee=q[1],ne=localStorage.getItem(pe),ae=("mix"===ne&&"mint"===Q?"dai":ne)||"dai",re=Object(o.useState)(ae),se=re[0],me=re[1],fe=Object(o.useState)(ae),be=fe[0],ge=fe[1],he=Object(o.useState)(""),je=he[0],ve=he[1],we=Object(o.useState)(""),ke=we[0],ye=we[1],Oe=Object(o.useState)(!1),Ne=Oe[0],Se=Oe[1],_e=Object(h.b)(w.a,(function(e){return e.contracts||{}})),Ce=(_e.vault,_e.usdt,_e.dai,_e.usdc,_e.xusd,_e.flipper,Object(o.useState)(null)),Ee=Ce[0],Ae=Ce[1],De=Object(o.useState)({}),Te=(De[0],De[1]),Fe=(parseFloat(l.dai),parseFloat(l.usdt),parseFloat(l.usdc),"string"===typeof l.dai&&"string"===typeof l.usdt&&l.usdc,X("mint")),Ue=Fe.setPriceToleranceValue,Pe=Fe.priceToleranceValue,ze=Fe.dropdownToleranceOptions,Me=!1,Re=null!==Ee,Ie=Object(h.b)(x.a,(function(e){return e.connectorName})),Xe=Object(N.b)(Ie),Be=Object(h.b)(x.a,(function(e){return e.addXusdModalState})),Le=Object(T.e)().includes(Object(T.d)()),Ve=function(e,t){return{swapMode:Q,inputAmountRaw:e,outputAmount:t,selectedCoin:"mint"===Q?se:be,priceToleranceValue:Pe}},Ge=function(e){return Object(L.h)(Object(L.g)(e,{minDecimals:0,maxDecimals:6,truncate:!0}))};ce(Ve(Ge("mint"===Q?je:ke),Ge("mint"===Q?je:ke)));var We=V(Ve("mint"===Q?je:ke,m?m.amountReceived:0)),Je=We.allowancesLoaded,Ye=We.needsApproval,Qe=We.mintVault,Ze=We.redeemVault,He=We.swapFlipper;Object(o.useEffect)((function(){var e=localStorage.getItem(pe);if("mint"===Q?(ge("xusd"),"mix"===e&&(e="dai",localStorage.setItem(pe,"dai")),me(e||"dai")):(me("xusd"),ge(e||"dai")),H!==Q&&(localStorage.setItem(xe,Q),m)){var t=Math.floor(1e6*m.amountReceived)/1e6;ve(t),ye(je)}}),[Q]);Object(o.useEffect)((function(){if(c.length>0){if("mint"===Q){var e=c.map((function(e){return e.data})).reduce((function(e,t){return{dai:parseFloat(e.dai)+parseFloat(t.dai),usdt:parseFloat(e.usdt)+parseFloat(t.usdt),usdc:parseFloat(e.usdc)+parseFloat(t.usdc)}}),{dai:0,usdt:0,usdc:0});parseFloat(je)>parseFloat(l[se])-parseFloat(e[se])?Te("not_have_enough"):Te(null)}}else Te(null)}),[Q,se,je,c]);var qe=[{errorCheck:function(e){return"EthAppPleaseEnableContractData"===e.name},friendlyMessage:p.fbt._('Contract data not enabled. Go to Ethereum app Settings and set "Contract Data" to "Allowed"',null,{hk:"2IZvgn"})},{errorCheck:function(e){return e.message.includes("Failed to sign with Ledger device: U2F DEVICE_INELIGIBL")},friendlyMessage:p.fbt._("Can not detect ledger device. Please make sure your Ledger is unlocked and Ethereum App is opened.",null,{hk:"pIZfD"})}],Ke=function(e){qe.filter((function(t){return t.errorCheck(e)})).length>0&&ee(e)},$e=function(e){Object(ie.b)()&&setTimeout((function(){G("".concat(e,"buy"))}),5e3)},et=function(){return{coinGiven:"mint"===Q?se:"xusd",coinReceived:"mint"===Q?"xusd":be,swapAmount:"mint"===Q?je:ke,stablecoinUsed:"mint"===Q?se:be}},tt=function(){var e=Object(g.a)(f.a.mark((function e(r){var o,i,s,c,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G("".concat(r,"waiting-user")),o=et(),e.prev=2,$e(r),O.a.track("Before Swap Transaction",{category:"swap",label:o.stablecoinUsed,value:o.swapAmount}),"flipper"!==m.name){e.next=15;break}return e.next=9,He();case 9:c=e.sent,s=c.result,c.swapAmount,c.minSwapAmount,e.next=33;break;case 15:if("vault"!==m.name){e.next=33;break}if("mint"!==Q){e.next=26;break}return e.next=20,Qe();case 20:l=e.sent,s=l.result,l.swapAmount,l.minSwapAmount,e.next=33;break;case 26:return e.next=29,Ze();case 29:u=e.sent,s=u.result,u.swapAmount,u.minSwapAmount;case 33:return G("".concat(r,"waiting-network")),t(s,Q,"mint"===Q?se:be,(i={},Object(b.a)(i,"mint"===Q?se:be,"mint"===Q?je:ke),Object(b.a)(i,"xusd","mint"===Q?ke:je),i)),nt(),ve(""),ye(""),e.next=40,a.waitForTransaction(s.hash);case 40:e.sent,O.a.track("Swap succeeded User source",{category:"swap",label:Object(le.a)(),value:o.swapAmount}),O.a.track("Swap succeeded",{category:"swap",label:o.stablecoinUsed,value:o.swapAmount}),"true"!==localStorage.getItem("addXUSDModalShown")&&x.a.update((function(e){e.addXusdModalState="waiting"})),e.next=58;break;case 46:if(e.prev=46,e.t0=e.catch(2),et(),4001===e.t0.code){e.next=55;break}return e.next=52,n(Q,se);case 52:O.a.track("Swap failed",{category:"swap",label:e.t0.message}),e.next=56;break;case 55:O.a.track("Swap canceled",{category:"swap"});case 56:Ke(e.t0),console.error("Error swapping xusd! ",e.t0);case 58:G("buy");case 59:case"end":return e.stop()}}),e,null,[[2,46]])})));return function(t){return e.apply(this,arguments)}}(),nt=function(){Object.values(M.a).forEach((function(e){return localStorage[e.localStorageSettingKey]="0"}))},at=function(e){Se(e);var t=et();e?O.a.track("Show Approve Modal",{category:"swap",label:t.coinGiven,value:parseInt(t.swapAmount)}):O.a.track("Hide Approve Modal",{category:"swap"})},rt=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=et(),t.preventDefault(),O.a.track("mint"===Q?"On Approve Swap to XUSD":"On Approve Swap from XUSD",{category:"swap",label:n.stablecoinUsed,value:n.swapAmount}),Je){e.next=7;break}return C(p.fbt._("Unable to load all allowances",null,{hk:"2Ouebt"})),console.error("Allowances: ",s),e.abrupt("return");case 7:if(!Ye){e.next=11;break}at(Ye),e.next=13;break;case 11:return e.next=13,tt("");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return de(i.a.Fragment,null,de("div",{className:"jsx-701962246 swap-homepage d-flex flex-column flex-grow"},de(oe,{setPriceToleranceValue:Ue,priceToleranceValue:Pe,dropdownToleranceOptions:ze}),!Ne&&de(I,null),"show"===Be&&Le&&de(U,{onClose:function(e){localStorage.setItem("addXUSDModalShown","true"),x.a.update((function(e){e.addXusdModalState="none"}))}}),Ne&&de(E,{stableCoinToApprove:"mint"===Q?se:"xusd",swapMode:Q,swapMetadata:et(),contractToApprove:Ne,onClose:function(e){e.preventDefault(),"buy"===B&&at(!1)},onFinalize:Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt("modal-");case 2:at(!1);case 3:case"end":return e.stop()}}),e)}))),buyWidgetState:B,onMintingError:Ke}),_&&de(z,{reason:_,showRefreshButton:!0,onClose:function(){}}),$&&de(z,{error:$,errorMap:qe,onClose:function(){ee(!1)}}),"waiting-user"===B&&de(W,{content:de("div",{className:"jsx-701962246 d-flex align-items-center justify-content-center"},de("img",{src:"/images/".concat(Xe),className:"jsx-701962246 waiting-icon"}),p.fbt._("Waiting for you to confirm...",null,{hk:"1YneSG"}))}),de(K,{swapMode:Q,selectedCoin:se,onAmountChange:function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(t),ye(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),coinValue:"mint"===Q?je:ke,onSelectChange:function(e){"xusd"!==e?(localStorage.setItem(pe,e),me(e)):Z("mint"===Q?"redeem":"mint")},topItem:!0,onErrorChange:Ae}),de(te,{swapMode:Q,setSwapMode:Z}),de(K,{swapMode:Q,selectedSwap:m,swapsLoaded:d,swapsLoading:"loading"===u,priceToleranceValue:Pe,selectedCoin:be,onSelectChange:function(e){"xusd"!==e?(localStorage.setItem(pe,e),ge(e)):Z("mint"===Q?"redeem":"mint")}}),de("div",{className:"jsx-701962246 d-flex flex-column align-items-center justify-content-center justify-content-md-between flex-md-row mt-md-3 mt-2"},de("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"jsx-701962246 link-detail"}),de("button",{disabled:!m||Re||Me,onClick:rt,className:"jsx-701962246 btn-blue buy-button mt-2 mt-md-0 w-100"},Me,p.fbt._("Swap",null,{hk:"416oku"})))),de(r.a,{id:"701962246"},[".swap-homepage.jsx-701962246{margin:0px -1px -1px -1px;border:solid 1px #cdd7e0;border-radius:10px;background-color:#fafbfc;min-height:350px;padding:35px 40px 40px 40px;position:relative;}",".link-detail.jsx-701962246{font-size:12px;color:#1a82ff;}",".link-detail.jsx-701962246:hover{color:#3aa2ff;}",".waiting-icon.jsx-701962246{width:30px;height:30px;margin-right:10px;}",".btn-blue.jsx-701962246:disabled{opacity:0.4;}","@media (max-width:799px){.swap-homepage.jsx-701962246{padding:23px 20px 20px 20px;}}"]))}))),fe=n("z7pX"),be=(n("+n12"),i.a.createElement),ge=function(e){var t=e.onClose,n=e.setConfirmAlternateRoute,a=e.bestEstimation,o=e.estimationSelected,s=e.nameMapping;return be(i.a.Fragment,null,be("div",{onClick:t,className:"jsx-1140842774 contract-approve-modal d-flex"},be("div",{onClick:function(e){e.stopPropagation()},className:"jsx-1140842774 modal-body shadowed-box d-flex flex-column"},be("div",{className:"jsx-1140842774 body-content d-flex flex-column"},be("h2",{className:"jsx-1140842774"},p.fbt._("Confirm",null,{hk:"2orb65"})),be("div",{className:"jsx-1140842774 currencies"},p.fbt._("{selected estimation name} offers -{selected estimation diff}% worse price than {best estimation name}.",[p.fbt._param("selected estimation name",s[o.name].name),p.fbt._param("selected estimation diff",Object(L.e)(-1*o.diffPercentage,2)),p.fbt._param("best estimation name",s[a.name].name)],{hk:"4BWGL1"})," ",p.fbt._("Are you sure you want to override best transaction route?",null,{hk:"2MqOpi"}))),be("div",{className:"jsx-1140842774 body-actions d-flex align-items-center justify-content-center"},be("button",{onClick:function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1),O.a.track("On deny tx route change",{category:"settings",label:o.name}),t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"jsx-1140842774 btn-clear-blue d-flex align-items-center justify-content-center mr-2"},p.fbt._("No",null,{hk:"33XPp1"})),be("button",{onClick:function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0),O.a.track("On confirm tx route change",{category:"settings",label:o.name}),t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"jsx-1140842774 btn-blue d-flex align-items-center justify-content-center ml-2"},p.fbt._("Yes",null,{hk:"2QPJY0"}))))),be(r.a,{id:"1140842774"},[".contract-approve-modal.jsx-1140842774{position:absolute;border-radius:0px 0px 10px 10px;border:solid 1px #cdd7e0;background-color:rgba(250,251,252,0.6);top:-1px;right:-1px;bottom:-1px;left:-1px;z-index:10;padding-left:80px;padding-right:80px;}",".approve-modal.jsx-1140842774 h2.jsx-1140842774{font-size:18px;font-weight:bold;color:#183140;margin-bottom:7px;}",".modal-body.jsx-1140842774{background-color:white;place-self:center;padding:0px;}",".body-content.jsx-1140842774{color:black;text-align:center;padding:20px;}",".body-content.jsx-1140842774 h2.jsx-1140842774{font-size:25px;margin-bottom:18px;}",".body-actions.jsx-1140842774{min-height:95px;background-color:#f2f3f5;border-radius:0px 0px 10px 10px;border-top:solid 1px #cdd7e0;}","button.jsx-1140842774{padding:0px 60px;height:50px;border-radius:25px;font-size:18px;}","@media (max-width:799px){.contract-approve-modal.jsx-1140842774{padding-left:30px;padding-right:30px;}button.jsx-1140842774{padding:0px 50px;}}"]))},he=i.a.createElement,je=function(){var e=Object(h.b)(w.a,(function(e){return e.swapEstimations})),t=Object(o.useState)(!1),n=t[0],a=t[1],i=Object(o.useState)(!1),s=i[0],c=i[1],l=Object(o.useState)(null),u=l[0],x=l[1],m=Object(o.useState)(!1),f=m[0],b=m[1],g=Object(d.useWeb3React)().active,v={flipper:{name:p.fbt._("XUSD Swap",null,{hk:"47pq1f"})},vault:{name:p.fbt._("XUSD Vault",null,{hk:"8nGta"})}},k={unsupported:p.fbt._("Unsupported",null,{hk:"12rAE3"}),unexpected_error:p.fbt._("Error",null,{hk:"2BgnmK"}),not_enough_funds_contract:p.fbt._("Amount too high",null,{hk:"44r62b"}),not_enough_funds_user:p.fbt._("Insufficient balance",null,{hk:"3jpbYv"}),amount_too_high:p.fbt._("Amount too high",null,{hk:"44r62b"}),slippage_too_high:p.fbt._("Slippage too high",null,{hk:"4k93VG"})},y={unsupported:3,unexpected_error:4,not_enough_funds_contract:0,not_enough_funds_user:2,amount_too_high:1},N=e&&"object"===typeof e,S=N?function(e){var t=Object.values(e),n=t.filter((function(e){return e.canDoSwap})),a=t.filter((function(e){return!e.canDoSwap}));return[].concat(Object(fe.a)(Object(j.sortBy)(Object.values(n),(function(e){return e.effectivePrice})).map((function(e){return e.name}))),Object(fe.a)(Object(j.sortBy)(Object.values(a),(function(e){return y[e.error]})).map((function(e){return e.name}))))}(e):Object.keys(v);S=f?S:S.splice(0,3);var _=N&&void 0!==Object(j.find)(Object.values(e),(function(e){return e.userSelected})),C=Object(j.find)(e,(function(e){return _?e.userSelected:e.isBest})),E=(C&&v[C.name].name,N?Object.values(e).filter((function(e){return e.canDoSwap})).length:0),A=function(t){w.a.update((function(n){Object.keys(e).forEach((function(e){n.swapEstimations[e].userSelected=!1})),n.swapEstimations[t].userSelected=!0}))},D="loading"===e,T=null===e;return g&&he("div",{className:"jsx-3124591022 contracts-table"},s&&he(ge,{onClose:function(){c(!1),x(null)},bestEstimation:C,estimationSelected:u,nameMapping:v,setConfirmAlternateRoute:function(e){e&&A(u.name),a(e)}}),he("div",{className:"jsx-3124591022 d-flex flex-column"},he("div",{className:"jsx-3124591022 contracts-table-top"},he("div",{className:"jsx-3124591022 title"},T&&p.fbt._("Best price will be displayed here",null,{hk:"3pr5yS"}),D&&p.fbt._("Finding you the best price...",null,{hk:"4j93qO"}),!T&&!D&&p.fbt._("Best price for your transaction",null,{hk:"4updsU"})))),he("div",{className:"jsx-3124591022 d-flex flex-column contracts-table-bottom"},he("div",{className:"jsx-3124591022 d-flex title-row"},he("div",{className:"jsx-3124591022 contract-cell"},p.fbt._("Exchange",null,{hk:"2fJ6Q3"})),he("div",{className:"jsx-3124591022 value-cell text-right d-none d-md-block"},p.fbt._("Est. received",null,{hk:"2oUcGW"})),he("div",{className:"jsx-3124591022 value-cell text-right d-none d-md-block"},p.fbt._("Gas estimate",null,{hk:"2Z7oXC"})),he("div",{className:"jsx-3124591022 value-cell text-right"},p.fbt._("Effective Price",null,{hk:"Raosn"})),he("div",{className:"jsx-3124591022 value-cell text-right"},p.fbt._("Diff.",null,{hk:"1nC7AW"}))),S.map((function(t){var a,r=v[t],o=N?e[t]:null,i=o&&!o.canDoSwap,s=i&&o.error,l=o&&o.canDoSwap,u=!1;D?a=p.fbt._("Loading ...",null,{hk:"CgFyk"}):T?a="-":i?a=k[s]:l&&(o.isBest?a=p.fbt._("Best",null,{hk:"2WO1IE"}):(a="- ".concat(Object(L.e)(-1*o.diffPercentage,2),"%"),u=!0));var d=D||T,m=l&&(_?o.userSelected:o.isBest),f=l&&E>1&&!m;return he("div",{key:r.name,onClick:function(){if(f){if(O.a.track("On tx route change",{category:"settings",label:o.name,value:o.isBest?1:0}),!n)return c(o.name),void x(o);A(o.name)}},className:"jsx-3124591022 "+"d-flex content-row ".concat(f?"clickable":""," ").concat(l&&m?"selected":"")},he("div",{className:"jsx-3124591022 contract-cell contract-name"},r.name),he("div",{className:"jsx-3124591022 value-cell d-none d-md-block text-right"},d?"-":Object(L.e)(o.amountReceived,2)),he("div",{className:"jsx-3124591022 value-cell d-none d-md-block text-right"},d||!l?"-":"$".concat(Object(L.e)(o.gasEstimate,2))),he("div",{className:"jsx-3124591022 value-cell text-right"},d||!l?"-":"$".concat(Object(L.e)(o.effectivePrice,2))),he("div",{className:"jsx-3124591022 "+"text-right pl-2 text-nowrap value-cell ".concat(u?"red":"")},T?"-":a))})),he("a",{onClick:function(){b(!f),w.a.update((function(e){e.showAllContracts=!f}))},className:"jsx-3124591022 show-more-less text-center"},f?p.fbt._("Show less",null,{hk:"1DZVl3"}):p.fbt._("Show more",null,{hk:"ppTQn"}))),he(r.a,{id:"3124591022"},[".contracts-table.jsx-3124591022{color:#8293a4;font-size:14px;border-radius:10px;background-color:#fafbfc;box-shadow:0 0 14px 0 rgba(24,49,64,0.1);margin-top:20px;position:relative;}",".contracts-table-top.jsx-3124591022{border-radius:10px 10px 0 0;border:solid 1px #cdd7e0;padding:30px 0 0 30px;border-bottom:0px;background-color:white;}",".contracts-table-bottom.jsx-3124591022{border-radius:0 0 10px 10px;border:solid 1px #cdd7e0;padding:30px;background-color:#fafbfc;}",".contract-cell.jsx-3124591022{width:28%;}",".value-cell.jsx-3124591022{width:18%;}",".title.jsx-3124591022{color:#8293a4;font-size:16px;margin-bottom:30px;}",".subtitle.jsx-3124591022{margin-bottom:36px;}",".contract-name.jsx-3124591022{font-weight:bold;}",".title-row.jsx-3124591022{color:#8293a4;font-size:12px;margin-bottom:18px;padding-right:20px;padding-left:20px;}",".content-row.jsx-3124591022{color:black;font-size:14px;padding:16px 20px;margin-bottom:10px;border:solid 1px #cdd7e0;border-radius:10px;}",".content-row.selected.jsx-3124591022{background-color:white;border:solid 1px black;box-shadow:0 0 10px 0 rgba(0,0,0,0.2);}",".red.jsx-3124591022{color:#ff0000;}",".clickable.jsx-3124591022{cursor:pointer;}",".clickable.jsx-3124591022:hover{background-color:#eaeaea;}",".content-row.selected.clickable.jsx-3124591022:hover{background-color:#eae6c9;}",".show-more-less.jsx-3124591022{color:#1a82ff;cursor:pointer;}",".show-more-less.jsx-3124591022:hover{-webkit-text-decoration:underline;text-decoration:underline;}","@media (max-width:799px){.contracts-table-top.jsx-3124591022{padding:20px 0 0 20px;}.contracts-table-bottom.jsx-3124591022{padding:20px;}.title.jsx-3124591022{margin-bottom:20px;}.subtitle.jsx-3124591022{margin-bottom:20px;}.title-row.jsx-3124591022{padding-right:20px;}.contract-cell.jsx-3124591022{width:28%;}.value-cell.jsx-3124591022{width:36%;}.contracts-table.jsx-3124591022{margin-top:20px;padding:20px 0;}}"]))},ve=n("Dz5q"),we=i.a.createElement,ke=function(e){Object(u.a)(e);var t=Object(d.useWeb3React)().active;return we(i.a.Fragment,null,we("div",{className:"jsx-105024956"},we("div",{className:"jsx-105024956 content-holder flex-grow d-flex flex-column shadow-div"},t&&we(me,null),!t&&we("div",{className:"jsx-105024956 empty-placeholder d-flex flex-column align-items-center justify-content-start"},we("img",{src:"/images/wallet-icons.svg",className:"jsx-105024956"}),we("div",{className:"jsx-105024956 header-text"},p.fbt._("No wallet connected",null,{hk:"4d7d8o"})),we("div",{className:"jsx-105024956 subtext"},p.fbt._("Please connect an Avalanche wallet",null,{hk:"vUPaz"})),we(ve.a,{primary:!0,connect:!0,trackSource:"Dapp widget body"}))),we(je,null)),we(r.a,{id:"105024956"},[".content-holder.jsx-105024956{border-radius:10px;background-color:#ffffff;max-width:716px;min-width:630px;}",".shadow-div.jsx-105024956{box-shadow:0 0 14px 0 rgba(24,49,64,0.1);}",".empty-placeholder.jsx-105024956{min-height:470px;height:100%;padding:70px;border-radius:0 0 10px 10px;border-top:solid 1px #cdd7e0;background-color:#fafbfc;}",".header-text.jsx-105024956{font-size:22px;line-height:0.86;text-align:center;color:black;margin-top:23px;margin-bottom:10px;}",".subtext.jsx-105024956{font-size:14px;line-height:1.36;text-align:center;color:#8293a4;margin-bottom:50px;}","@media (max-width:799px){div.jsx-105024956{width:100%;min-width:100%;max-width:100%;}.content-holder.jsx-105024956{max-width:100%;min-width:100%;}}"]))},ye=i.a.createElement,Oe=function(){var e=Object(h.b)(w.a,(function(e){return e.xusdExchangeRates})),t=Object(h.b)(x.a,(function(e){return e.balances})),n=["dai","usdt","usdc"].map((function(n){return t[n]*e[n].mint})).reduce((function(e,t){return e+t}));return ye(i.a.Fragment,null,ye("div",{className:"jsx-3950633282 side-panel-message"},ye("div",{className:"jsx-3950633282 title"},p.fbt._("Welcome!",null,{hk:"3Jsdql"})),ye("div",{className:"jsx-3950633282 text"},p.fbt._("The XUSD.fi lets you easily convert other stablecoins into XUSD so you can instantly earn yields.",null,{hk:"3ZM1tL"})," ",n>0&&p.fbt._("You can buy up to ~{xusd-coin} XUSD with the {usdt-coin} USDT, {usdc-coin} USDC, and {dai-coin} DAI in your wallet.",[p.fbt._param("xusd-coin",Object(L.e)(n,2)),p.fbt._param("usdt-coin",Object(L.e)(t.usdt,0)),p.fbt._param("usdc-coin",Object(L.e)(t.usdc,0)),p.fbt._param("dai-coin",Object(L.e)(t.dai,0))],{hk:"KDo6T"}))),ye(r.a,{id:"3950633282"},[".side-panel-message.jsx-3950633282{width:100%;border-radius:5px;border:solid 1px #cdd7e0;background-color:#ffffff;padding:15px 20px;margin-bottom:10px;}",".side-panel-message.jsx-3950633282 .title.jsx-3950633282{font-family:Lato;font-size:14px;font-weight:bold;color:#183140;margin-bottom:7px;}",".side-panel-message.jsx-3950633282 .text.jsx-3950633282{font-size:14px;line-height:1.5;color:#8293a4;}"]))},Ne=i.a.createElement,Se=function(e){var t=e.transaction,n=e.coin,a=e.animate,s=e.showTxStatusIcon,c=void 0!==s&&s,l=e.drawType,u=void 0===l?"all-same":l,d=Object(o.useState)(!1),p=d[0],x=d[1];return Object(o.useEffect)((function(){a?setTimeout((function(){x(!0)}),400):setTimeout((function(){x(!0)}),100)}),[]),Ne(i.a.Fragment,null,Ne("div",{className:"jsx-2241280187 coin-circle-holder d-flex align-items-center justify-content-center"},Ne("div",{className:"jsx-2241280187 "+"coin-circle ".concat(p?"":"hidden")},Ne("div",{className:"jsx-2241280187 coin-circle-inner"},c&&Ne("div",{className:"jsx-2241280187 completion-indicator"},!t.mined&&Ne("img",{src:"/images/spinner-green-small.png",className:"jsx-2241280187 waiting-icon rotating"}),t.mined&&!t.isError&&Ne("img",{src:"/images/green-checkmark.svg",className:"jsx-2241280187 waiting-icon"}),t.mined&&t.isError&&Ne("img",{src:"/images/red-x-filled.svg",className:"jsx-2241280187 waiting-icon"})),("all-same"===u||Array.isArray(n)&&3===n.length)&&Ne(i.a.Fragment,null,Ne("img",{src:"/images/currency/".concat(Array.isArray(n)?n[0]:n,"-icon-small.svg"),className:"jsx-2241280187 "+"coin coin-3-1 ".concat(p?"":"hidden")}),Ne("img",{src:"/images/currency/".concat(Array.isArray(n)?n[1]:n,"-icon-small.svg"),className:"jsx-2241280187 "+"coin coin-3-2 ".concat(p?"":"hidden")}),Ne("img",{src:"/images/currency/".concat(Array.isArray(n)?n[2]:n,"-icon-small.svg"),className:"jsx-2241280187 "+"coin coin-3-3 ".concat(p?"":"hidden")})),"per-coin"===u&&2===n.length&&Ne(i.a.Fragment,null,Ne("img",{src:"/images/currency/".concat(Array.isArray(n)?n[0]:n,"-icon-small.svg"),className:"jsx-2241280187 "+"coin medium coin-2-1 ".concat(p?"":"hidden")}),Ne("img",{src:"/images/currency/".concat(Array.isArray(n)?n[1]:n,"-icon-small.svg"),className:"jsx-2241280187 "+"coin medium coin-2-2 ".concat(p?"":"hidden")})),"per-coin"===u&&1===n.length&&Ne(i.a.Fragment,null,Ne("img",{src:"/images/currency/".concat(Array.isArray(n)?n[0]:n,"-icon-small.svg"),className:"jsx-2241280187 "+"coin big coin-1 ".concat(p?"":"hidden")}))))),Ne(r.a,{id:"2241280187"},[".coin-circle-holder.jsx-2241280187{width:67px;height:67px;margin-bottom:14px;}",".coin-circle.jsx-2241280187{max-height:67px;max-width:67px;width:80px;height:80px;border-radius:34px;border:solid 1px #b5bfc8;background-color:white;position:relative;-webkit-transition:max-height 0.4s cubic-bezier(0.5,-0.5,0.5,1.5), max-width 0.4s cubic-bezier(0.5,-0.5,0.5,1.5);transition:max-height 0.4s cubic-bezier(0.5,-0.5,0.5,1.5), max-width 0.4s cubic-bezier(0.5,-0.5,0.5,1.5);}",".coin-circle.hidden.jsx-2241280187{max-width:0px;max-height:0px;}",".coin-circle.hidden.jsx-2241280187 .coin-circle-inner.jsx-2241280187{opacity:0;}",".coin-circle.jsx-2241280187 .coin-circle-inner.jsx-2241280187{opacity:1;-webkit-transition:opacity 0.3s ease-out 0.4s;transition:opacity 0.3s ease-out 0.4s;}",".completion-indicator.jsx-2241280187{position:absolute;right:-6px;bottom:0px;z-index:1;}",".coin.jsx-2241280187{width:20px;height:20px;position:absolute;-webkit-transition:left 0.4s cubic-bezier(0.5,-0.5,0.5,1.5) 0.5s, top 0.4s cubic-bezier(0.5,-0.5,0.5,1.5) 0.5s;transition:left 0.4s cubic-bezier(0.5,-0.5,0.5,1.5) 0.5s, top 0.4s cubic-bezier(0.5,-0.5,0.5,1.5) 0.5s;}",".coin.medium.jsx-2241280187{width:24px;height:24px;}",".coin.big.jsx-2241280187{width:28px;height:28px;}",".coin.hidden.jsx-2241280187{left:22.5px;top:22.5px;}",".coin-3-1.jsx-2241280187{left:22.5px;top:10.5px;}",".coin-3-2.jsx-2241280187{left:33.5px;top:30px;}",".coin-3-3.jsx-2241280187{left:12px;top:30px;}",".coin-2-1.jsx-2241280187{left:30px;top:20px;}",".coin-2-2.jsx-2241280187{left:12px;top:20px;}",".coin-1.jsx-2241280187{left:18px;top:18px;}",".waiting-icon.jsx-2241280187{width:25px;height:25px;}",".rotating.jsx-2241280187{-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-webkit-animation:spin-jsx-2241280187 2s linear infinite;animation:spin-jsx-2241280187 2s linear infinite;}","@-moz-keyframes spin{100%.jsx-2241280187{-moz-transform:rotate(360deg);}}","@-webkit-keyframes spin{100%.jsx-2241280187{-webkit-transform:rotate(360deg);}}","@-webkit-keyframes spin-jsx-2241280187{100%{-webkit-transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes spin-jsx-2241280187{100%{-webkit-transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]))},_e=i.a.createElement,Ce=function(e){var t=e.transaction,n=(e.dismissTransaction,e.animate),a=void 0!==n&&n,s="approve"===t.type,c="mint"===t.type,l="redeem"===t.type,u="rebase"===t.type,x="rebaseOptIn"===t.type,m=Object(o.useState)(!a),f=m[0],b=m[1],g=Object(o.useState)(!1),j=g[0],w=g[1],k=Object(o.useState)(!1),y=k[0],O=k[1],N=t.coins,S=Object(h.b)(v.a,(function(e){return e.expandedTransaction&&e.expandedTransaction.hash===t.hash})),_=Object(d.useWeb3React)(),C=t.safeData?t.safeData.txHash:t.hash,E="".concat(Object(T.a)(_),"/tx/").concat(C),A=t.hash&&t.hash.startsWith("0x");Object(o.useEffect)((function(){S?setTimeout((function(){O(!0)}),10):O(!1)}),[S]),Object(o.useEffect)((function(){a?(setTimeout((function(){b(!0)}),100),setTimeout((function(){w(!0)}),400)):setTimeout((function(){w(!0)}),100)}),[]);var D=t.data&&void 0!==t.data.xusd&&void 0!==t.data.dai&&void 0!==t.data.usdt&&void 0!==t.data.usdc,F=l&&D,U=c&&D;return _e(i.a.Fragment,null,_e("div",{onClick:function(e){e.preventDefault()},className:"jsx-2844108098 "+"side-panel-message ".concat(a?"animate":"")},_e("div",{className:"jsx-2844108098 main-contents"},f&&A&&_e("a",{onClick:function(e){window.open(E,"_blank")},className:"jsx-2844108098 "+"etherscan-link ".concat(j?"":"hidden")},"\xa0"),f&&(U||F)&&_e("a",{onClick:function(e){v.a.update((function(e){e.expandedTransaction=S?null:t}))},target:"_blank",rel:"noopener noreferrer",className:"jsx-2844108098 "+"expand-link ".concat(j?"":"hidden"," ").concat(S?"expanded":""," ")},"\xa0"),f&&_e("a",{onClick:function(e){e.preventDefault(),e.stopPropagation(),v.a.update((function(e){e.transactionHashesToDismiss=[t.hash]}))},className:"jsx-2844108098 "+"dismiss-link ".concat(j?"":"hidden")},"\xd7"),_e("div",{className:"jsx-2844108098 "+"contents-body d-flex flex-column align-items-center ".concat(f?"":"hidden")},f&&u&&_e(i.a.Fragment,null,_e(Se,{transaction:t,coin:N,animate:a,showTxStatusIcon:!0,drawType:"all-same"}),_e("div",{className:"jsx-2844108098 "+"title-holder ".concat(j?"":"hidden")},!t.mined&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Increasing XUSD supply",null,{hk:"2DAna5"})),t.mined&&!t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("XUSD supply increased",null,{hk:"40htSe"})),t.mined&&t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Failed to increase XUSD supply",null,{hk:"791y1"})))),f&&x&&_e(i.a.Fragment,null,_e(Se,{transaction:t,coin:N,animate:a,showTxStatusIcon:!0,drawType:"all-same"}),_e("div",{className:"jsx-2844108098 "+"title-holder ".concat(j?"":"hidden")},!t.mined&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Opting in to XUSD rebasing",null,{hk:"4E1Ywt"})),t.mined&&!t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Opted in to XUSD rebase",null,{hk:"ilbJS"})),t.mined&&t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Failed to opt in to XUSD rebase",null,{hk:"47I5op"})))),f&&s&&_e(i.a.Fragment,null,_e(Se,{transaction:t,coin:N,animate:a,showTxStatusIcon:!0,drawType:"all-same"}),_e("div",{className:"jsx-2844108098 "+"title-holder ".concat(j?"":"hidden")},!t.mined&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Granting permission to move your {coin}",[p.fbt._param("coin",N.toUpperCase())],{hk:"4aQLhT"})),t.mined&&!t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Permission granted to move your {coin}",[p.fbt._param("coin",N.toUpperCase())],{hk:"2eQ0qB"})),t.mined&&t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Failed granting permission to move your {coin}",[p.fbt._param("coin",N.toUpperCase())],{hk:"3RBkL5"})))),f&&l&&_e(i.a.Fragment,null,_e("div",{className:"jsx-2844108098 d-flex align-items-center"},_e(Se,{transaction:t,coin:"xusd",animate:a,showTxStatusIcon:!1,drawType:"all-same"}),_e("div",{className:"jsx-2844108098 "+"line ".concat(j?"":"hidden")},_e("div",{className:"jsx-2844108098 completion-indicator"},!t.mined&&_e("img",{src:"/images/spinner-green-small.png",className:"jsx-2844108098 waiting-icon rotating"}),t.mined&&!t.isError&&_e("img",{src:"/images/green-checkmark.svg",className:"jsx-2844108098 waiting-icon"}),t.mined&&t.isError&&_e("img",{src:"/images/red-x-filled.svg",className:"jsx-2844108098 waiting-icon"}))),_e(Se,{transaction:t,coin:"mix"===N?["dai","usdt","usdc"]:N.split(","),animate:a,showTxStatusIcon:!1,drawType:"per-coin"})),_e("div",{className:"jsx-2844108098 "+"title-holder ".concat(j?"":"hidden")},!t.mined&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Swapping XUSD for {coin}",[p.fbt._param("coin",N.split(",").join(" & ").toUpperCase())],{hk:"4iHtgW"})),t.mined&&!t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Swapped XUSD for {coin}",[p.fbt._param("coin",N.split(",").join(" & ").toUpperCase())],{hk:"14Q1mD"})),t.mined&&t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Failed swapping XUSD for {coin}",[p.fbt._param("coin",N.split(",").join(" & ").toUpperCase())],{hk:"2kof6a"})))),f&&c&&_e(i.a.Fragment,null,_e("div",{className:"jsx-2844108098 d-flex align-items-center"},_e(Se,{transaction:t,coin:N.split(","),animate:a,showTxStatusIcon:!1,drawType:"per-coin"}),_e("div",{className:"jsx-2844108098 "+"line ".concat(j?"":"hidden")},_e("div",{className:"jsx-2844108098 completion-indicator"},!t.mined&&_e("img",{src:"/images/spinner-green-small.png",className:"jsx-2844108098 waiting-icon rotating"}),t.mined&&!t.isError&&_e("img",{src:"/images/green-checkmark.svg",className:"jsx-2844108098 waiting-icon"}),t.mined&&t.isError&&_e("img",{src:"/images/red-x-filled.svg",className:"jsx-2844108098 waiting-icon"}))),_e(Se,{transaction:t,coin:"xusd",animate:a,showTxStatusIcon:!1,drawType:"all-same"})),_e("div",{className:"jsx-2844108098 "+"title-holder ".concat(j?"":"hidden")},!t.mined&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Swapping {coin} for XUSD",[p.fbt._param("coin",N.split(",").join(" & ").toUpperCase())],{hk:"1u4cLn"})),t.mined&&!t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("{coin} swapped for XUSD",[p.fbt._param("coin",N.split(",").join(" & ").toUpperCase())],{hk:"2kPutv"})),t.mined&&t.isError&&_e("div",{className:"jsx-2844108098 title"},p.fbt._("Failed swapping {coin} for XUSD",[p.fbt._param("coin",N.split(",").join(" & ").toUpperCase())],{hk:"eg7sO"})))),f&&!1)),S&&_e("div",{className:"jsx-2844108098 "+"expanded-area d-flex align-items-stretch ".concat(y?"expanded":"")},y&&_e(i.a.Fragment,null,_e("div",{className:"jsx-2844108098 expand-box left d-flex flex-column align-items-center justify-content-center"},F&&_e(i.a.Fragment,null,_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.xusd,100,2,0)," ","XUSD")),U&&_e(i.a.Fragment,null,parseFloat(t.data.usdt)>0&&_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.usdt,100,2,0)," ","USDT"),parseFloat(t.data.dai)>0&&_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.dai,100,2,0)," ","DAI"),parseFloat(t.data.usdc)>0&&_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.usdc,100,2,0)," ","USDC"))),_e("div",{className:"jsx-2844108098 small-arrow d-flex align-items-center justify-content-center align-self-center"},_e("img",{src:"/images/small-arrow.svg",className:"jsx-2844108098"})),_e("div",{className:"jsx-2844108098 expand-box right d-flex flex-column align-items-center justify-content-center"},F&&_e(i.a.Fragment,null,parseFloat(t.data.usdt)>0&&_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.usdt,100,2,0)," ","USDT"),parseFloat(t.data.dai)>0&&_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.dai,100,2,0)," ","DAI"),parseFloat(t.data.usdc)>0&&_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.usdc,100,2,0)," ","USDC")),U&&_e(i.a.Fragment,null,_e("div",{className:"jsx-2844108098"},Object(L.f)(t.data.xusd,100,2,0)," ","XUSD")))))),_e(r.a,{id:"2844108098"},[".side-panel-message.jsx-2844108098{width:100%;border-radius:5px;border:solid 1px #cdd7e0;background-color:#ffffff;margin-bottom:10px;}",".main-contents.jsx-2844108098{padding:15px 20px;position:relative;}",".small-arrow.jsx-2844108098{position:relative;background-color:white;width:16px;height:16px;border-radius:8px;margin-left:-8px;margin-right:-8px;z-index:2;}",".expanded-area.jsx-2844108098{width:100%;height:0px;-webkit-transition:height 0.3s ease-out;transition:height 0.3s ease-out;}",".expanded-area.expanded.jsx-2844108098{height:72px;}",".expand-box.jsx-2844108098{min-height:50px;background-color:#f2f3f5;padding:8px 10px;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-size:12px;font-weight:normal;text-align:center;color:#1e313f;}",".expand-box.left.jsx-2844108098{border-radius:0px 0px 0px 5px;margin:0px 1.5px 3px 3px;}",".expand-box.right.jsx-2844108098{border-radius:0px 0px 5px 0px;margin:0px 3px 3px 1.5px;}",".expand-link.hidden.jsx-2844108098{opacity:0;}",".expand-link.jsx-2844108098{position:absolute;right:34px;bottom:10px;cursor:pointer;opacity:1;-webkit-transition:opacity 0.7s ease-out 0.5s;transition:opacity 0.7s ease-out 0.5s;width:17px;height:17px;background-image:url('/images/more-icon-off.svg');background-size:17px 17px;}",".expand-link.expanded.jsx-2844108098{background-image:url('/images/more-icon-on.svg') !important;}",".expand-link.jsx-2844108098:hover{background-image:url('/images/more-icon-hover.svg');}",".etherscan-link.jsx-2844108098{position:absolute;right:10px;bottom:10px;opacity:0.6;cursor:pointer;width:17px;height:17px;background-image:url('/images/snowtrace-icon.svg');background-size:17px 17px;}",".etherscan-link.jsx-2844108098:hover{opacity:1;}",".etherscan-link.jsx-2844108098 img.jsx-2844108098,.expand-link.jsx-2844108098 img.jsx-2844108098{width:17px;height:17px;}",".etherscan-link.hidden.jsx-2844108098{opacity:0;}",".dismiss-link.jsx-2844108098{display:none;position:absolute;right:0px;top:-10px;opacity:1;font-size:20px;color:#8293a4;-webkit-transition:opacity 0.7s ease-out 0.5s;transition:opacity 0.7s ease-out 0.5s;padding:10px;cursor:pointer;}",".side-panel-message.jsx-2844108098:hover .dismiss-link.jsx-2844108098{display:block;}",".dismiss-link.hidden.jsx-2844108098{opacity:0;}",".contents-body.jsx-2844108098{opacity:1;max-height:300px;margin-top:12px;}",".animate.jsx-2844108098 .contents-body.hidden.jsx-2844108098{opacity:0;max-height:0px;}",".animate.jsx-2844108098 .contents-body.jsx-2844108098{-webkit-transition:max-height 0.7s ease-out,opacity 0.4s linear 0.3s;transition:max-height 0.7s ease-out,opacity 0.4s linear 0.3s;}",".title-holder.hidden.jsx-2844108098{opacity:0;}",".title-holder.jsx-2844108098{opacity:1;-webkit-transition:opacity 0.3s ease-out 0.7s;transition:opacity 0.3s ease-out 0.7s;}",".title.jsx-2844108098{font-size:14px;font-weight:normal;text-align:center;color:#183140;max-width:150px;line-height:1.2;}",".line.jsx-2844108098{width:65px;height:1px;background-color:#b5bfc8;margin-bottom:14px;opacity:1;-webkit-transition:opacity 0.3s ease-out 0.4s;transition:opacity 0.3s ease-out 0.4s;position:relative;}",".line.hidden.jsx-2844108098{opacity:0;}",".waiting-icon.jsx-2844108098{width:25px;height:25px;}",".rotating.jsx-2844108098{-webkit-animation:spin 2s linear infinite;-moz-animation:spin 2s linear infinite;-webkit-animation:spin-jsx-2844108098 2s linear infinite;animation:spin-jsx-2844108098 2s linear infinite;}","@-moz-keyframes spin{100%.jsx-2844108098{-moz-transform:rotate(360deg);}}","@-webkit-keyframes spin{100%.jsx-2844108098{-webkit-transform:rotate(360deg);}}","@-webkit-keyframes spin-jsx-2844108098{100%{-webkit-transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes spin-jsx-2844108098{100%{-webkit-transform:rotate(360deg);-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".completion-indicator.jsx-2844108098{position:absolute;top:-13.5px;left:20px;}"]))},Ee=i.a.createElement,Ae=function(){var e=Object(h.b)(w.a,(function(e){return e.showAllContracts})),t=Object(h.b)(v.a,(function(e){return e.transactions})),n=Object(Y.b)(t),a=Object(o.useState)([]),s=a[0],c=a[1],l=Object(o.useState)([]),u=l[0],d=l[1];return Object(o.useEffect)((function(){if(n&&0!==n.length){var e=n.map((function(e){return e.hash}));c([].concat(Object(fe.a)(s),Object(fe.a)(t.filter((function(t){return!e.includes(t.hash)})).map((function(e){return e.hash})))))}var a=Object(fe.a)(t);a.sort((function(e,t){return t.mined||e.mined?t.mined?e.mined?t.blockNumber-e.blockNumber:-10:10:0})),d(a)}),[t]),Ee(i.a.Fragment,null,Ee("div",{id:"primarySidePanel",className:"jsx-3452760483 primarySidePanel sidepanel-wrapper collapse navbar-collapse"},Ee("div",{className:"jsx-3452760483 "+"primary-side-panel d-flex flex-column justify-content-start align-items-center disable-scrollbars ".concat(e?"larger":"")},Ee("button",{type:"button","data-toggle":"collapse","data-target":".primarySidePanel","aria-controls":"primarySidePanel","aria-expanded":"false","aria-label":"Toggle navigation",className:"jsx-3452760483 close navbar-toggler d-md-none"},Ee("img",{src:"/images/close.svg",alt:"Close icon",loading:"lazy",className:"jsx-3452760483"})),u.map((function(e){return Ee(Ce,{key:e.hash,transaction:e,animate:s.includes(e.hash)})})),Ee(Oe,null))),Ee(r.a,{id:"3452760483"},[".primary-side-panel.jsx-3452760483{margin-left:20px;padding:10px;max-width:374px;min-width:290px;min-height:100%;max-height:794px;border-radius:10px;background-color:#fafbfc;border:1px solid #cdd7e0;overflow-y:scroll;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;box-shadow:0 0 14px 0 rgba(24,49,64,0.1);}",".primary-side-panel.larger.jsx-3452760483{min-height:100%;max-height:988px;}","@media (min-width:800px){.collapse.jsx-3452760483{display:block !important;}}",".disable-scrollbars.jsx-3452760483::-webkit-scrollbar{width:0px;background:transparent;}",".disable-scrollbars.jsx-3452760483{-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;-ms-overflow-style:none;}","@media (max-width:799px){.sidepanel-wrapper.jsx-3452760483{position:fixed;top:0;bottom:0;left:100%;z-index:1000;-webkit-transition:all 0.3s ease;transition:all 0.3s ease;}.primary-side-panel.jsx-3452760483{height:100%;border-radius:0;width:250px;max-width:250px;min-width:250px;margin:0;padding-top:74px;max-height:100%;}.navbar-collapse.collapsing.jsx-3452760483{-webkit-transition:all 0.3s ease;transition:all 0.3s ease;display:block;height:100%;}.navbar-collapse.show.jsx-3452760483{left:calc(100% - 250px);}.close.jsx-3452760483{background:none;border:none;position:absolute;top:30px;right:30px;}}"]))},De=i.a.createElement;function Te(e){var t=e.locale,n=e.onLocale;return De(i.a.Fragment,null,De(s.a,{locale:t,onLocale:n,dapp:!0},De(c.a,{dapp:!0,page:"swap",locale:t,onLocale:n}),De("div",{className:"jsx-4005066490 home d-flex flex-column"},De(l.a,null),De("div",{className:"jsx-4005066490 d-flex"},De(ke,null),De(Ae,null)))),De(r.a,{id:"4005066490"},[".home.jsx-4005066490{padding-top:20px;}","@media (max-width:799px){.home.jsx-4005066490{padding:0;}}"]))}},NURJ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return n("FRZj")}])},P5Jw:function(e,t,n){"use strict";var a=n("rHrb").CopyToClipboard;a.CopyToClipboard=a,e.exports=a},gYMh:function(e,t,n){"use strict";function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.d(t,"a",(function(){return a}))},rHrb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var a=o(n("q1tI")),r=o(n("+QRC"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?x(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){var e,n;l(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return f(x(n=d(this,(e=p(t)).call.apply(e,[this].concat(i)))),"onClick",(function(e){var t=n.props,o=t.text,i=t.onCopy,s=t.children,c=t.options,l=a.default.Children.only(s),u=(0,r.default)(o,c);i&&i(o,u),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(e)})),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=c(e,["text","onCopy","options","children"]),r=a.default.Children.only(t);return a.default.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{onClick:this.onClick}))}}])&&u(n.prototype,o),i&&u(n,i),t}(a.default.PureComponent);t.CopyToClipboard=b,f(b,"defaultProps",{onCopy:void 0,options:void 0})},ydnR:function(e,t){e.exports={mintAbsoluteGasLimitBuffer:2e4,mintPercentGasLimitBuffer:.1,redeemPercentGasLimitBuffer:.25}}},[["NURJ",0,1,3,5,2,6,7]]]);