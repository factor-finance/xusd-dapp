_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{"74gf":function(e,t,n){"use strict";(function(e){var r=n("vJKn"),a=n.n(r),o=n("rg98"),i=n("z7pX"),s=n("MX0m"),c=n.n(s),l=n("q1tI"),d=n.n(l),u=n("20a2"),m=n("ubkq"),f=n.n(m),p=(n("KLTg"),n("bExK")),x=n("Z6YE"),b=n("7cBs"),g=n("BDpz"),h=n("+n12"),y=n("CV0S"),j=d.a.createElement,v=function(e){var t=e.filter,n=e.filterText,r=e.filterImage,a=e.filters,o=e.setFilters,s=a.includes(t);return j("div",{key:t,className:"jsx-3654127565"},j("div",{onClick:function(){o(s?a.filter((function(e){return e!=t})):[].concat(Object(i.a)(a),[t]))},className:"jsx-3654127565 "+"button d-flex align-items-center justify-content-center ".concat(s?"selected":"")},j("span",{className:"jsx-3654127565 d-none d-md-flex"},n),j("img",{src:"/images/history/".concat(r),className:"jsx-3654127565 d-flex d-md-none"})),j(c.a,{id:"3654127565"},[".button.jsx-3654127565{color:#8293a4;min-width:93px;min-height:40px;border-radius:5px;border:solid 1px #cdd7e0;margin-right:10px;font-family:Lato;font-size:14px;cursor:pointer;}",".button.selected.jsx-3654127565,.button.selected.jsx-3654127565:hover{background-color:black;color:white;}",".button.jsx-3654127565:hover{background-color:#edf2f5;}","@media (max-width:799px){.button.jsx-3654127565{min-width:50px;min-height:35px;margin-right:8px;font-size:14px;margin-bottom:20px;}}"]))},N=function(e){var t,n,r=e.value,a=e.isMobile,o=r<0;return r=Object(b.c)(Math.abs(r),a?2:4),a?t=r:(t=r.substring(0,r.length-2),n=r.substring(r.length-2)),j(d.a.Fragment,null,o?"-":"",t,j("span",{className:"jsx-187691745 grayer"},n),j(c.a,{id:"187691745"},[".grayer.jsx-187691745{color:#8293a4;}"]))};t.a=Object(y.a)((function(t){var n=t.isMobile,r=Object(x.useWeb3React)(),s=Object(u.useRouter)(),m=r.account,b=r.active,y=Object(l.useState)(!1),k=y[0],_=y[1],w=Object(l.useState)(!1),M=w[0],T=w[1],D=Object(l.useState)(!1),S=D[0],O=D[1],E=Object(l.useState)([]),F=E[0],C=E[1],A=Object(l.useState)(1),H=A[0],U=A[1],J=Object(l.useState)([]),L=J[0],z=J[1],Y=s.query.override_account||m,I={yield:{name:p.fbt._("Yield",null,{hk:"n1laP"}),verboseName:"Yield",imageName:"yield_icon.svg",filter:"yield"},transfer_in:{name:p.fbt._("Received",null,{hk:"2SxROe"}),verboseName:"Received",imageName:"received_icon.svg",filter:"received"},transfer_out:{name:p.fbt._("Sent",null,{hk:"34otte"}),verboseName:"Sent",imageName:"sent_icon.svg",filter:"sent"},swap_give_xusd:{name:p.fbt._("Swap",null,{hk:"2Ihfo"}),verboseName:"Swap give XUSD",imageName:"swap_icon.svg",filter:"swap"},swap_gain_xusd:{name:p.fbt._("Swap",null,{hk:"2Ihfo"}),verboseName:"Swap gain XUSD",imageName:"swap_icon.svg",filter:"swap"},unknown_transfer:{name:p.fbt._("Unknown transfer",null,{hk:"3lhLlj"}),verboseName:"Unknown transfer",imageName:"mint_icon.svg",filter:"/"},unknown_transaction_not_found:{name:p.fbt._("Unknown",null,{hk:"2pmeOd"}),verboseName:"Unknown - transaction not found",imageName:"mint_icon.svg",filter:"/"},unknown:{name:p.fbt._("Unknown",null,{hk:"2pmeOd"}),verboseName:"Unknown",imageName:"mint_icon.svg",filter:"/"}},P=function(e){if(C(e),U(1),0===e.length)T(k);else{var t=Object.keys(I).filter((function(t){return e.includes(I[t].filter)}));T(k.filter((function(e){return t.includes(e.type)})))}};return Object(l.useEffect)((function(){(b||Y)&&function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.env.ANALYTICS_ENDPOINT,"/api/v1/address/").concat(Y.toLowerCase(),"/history"));case 2:if(!(n=t.sent).ok){t.next=12;break}return t.next=6,n.json();case 6:r=t.sent,o=r.history,C([]),_(o),T(o),U(1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[Y,b]),Object(l.useEffect)((function(){var e=M.length,t=Math.ceil(e/50),n=[1,2,t,t-1,H,H-1,H+1];n=n.filter((function(e){return e>0&&e<=t})),n=(n=Object(i.a)(new Set(n))).sort((function(e,t){return e-t})),z(n)}),[M,H]),Object(l.useEffect)((function(){M&&O(Object(i.a)(M).splice(50*(H-1),50))}),[M,H]),j(d.a.Fragment,null,j("div",{className:"jsx-2690140266 d-flex holder flex-column justify-content-start"},S&&j(d.a.Fragment,null,j("div",{className:"jsx-2690140266 filters d-flex justify-content-between"},j("div",{className:"jsx-2690140266 d-flex justify-content-start flex-wrap flex-md-nowrap"},j(v,{filterText:p.fbt._("Received",null,{hk:"pDOyC"}),filterImage:"received_icon.svg",filter:"received",filters:F,setFilters:P}),j(v,{filterText:p.fbt._("Sent",null,{hk:"43i5e4"}),filterImage:"sent_icon.svg",filter:"sent",filters:F,setFilters:P}),j(v,{filterText:p.fbt._("Swap",null,{hk:"1JJTUm"}),filterImage:"swap_icon.svg",filter:"swap",filters:F,setFilters:P}),j(v,{filterText:p.fbt._("Yield",null,{hk:"3JLmmR"}),filterImage:"yield_icon.svg",filter:"yield",filters:F,setFilters:P})),j("div",{className:"jsx-2690140266 d-flex"},j("div",{onClick:function(){Object(h.a)("transaction_history.csv",[["Date","Block Number","Type","From Address","To Address","Amount","Balance","Transaction hash"]].concat(Object(i.a)(M.map((function(e){return[e.time,e.block_number,e.type,e.from_address||"",e.to_address||"",e.amount,e.balance,e.tx_hash]})))))},className:"jsx-2690140266 button d-flex align-items-center justify-content-center mb-auto"},p.fbt._("Export",null,{hk:"2MoJGG"})))),j("div",{className:"jsx-2690140266 history-holder"},j("div",{className:"jsx-2690140266 d-flex grey-font border-bt pb-10"},j("div",{className:"jsx-2690140266 col-3 col-md-2 pl-0"},p.fbt._("Date",null,{hk:"2DM8G2"})),j("div",{className:"jsx-2690140266 col-3 col-md-2"},p.fbt._("Type",null,{hk:"2SYIVG"})),j("div",{className:"jsx-2690140266 d-none d-md-flex col-2"},p.fbt._("From",null,{hk:"4n1LAO"})),j("div",{className:"jsx-2690140266 d-none d-md-flex col-2"},p.fbt._("To",null,{hk:"J9dD2"})),j("div",{className:"jsx-2690140266 col-3 col-md-2 d-flex justify-content-end pr-md-5"},p.fbt._("Amount",null,{hk:"1ocRm4"})),j("div",{className:"jsx-2690140266 col-3 col-md-2 d-flex justify-content-end pr-md-5"},p.fbt._("Balance",null,{hk:"1Svanh"}))),S.map((function(e){return j("div",{key:"".concat(e.tx_hash,"-").concat(e.log_index?e.log_index:0),className:"jsx-2690140266 d-flex border-bt pb-20 pt-20 history-item"},j("div",{className:"jsx-2690140266 col-3 col-md-2 pl-0"},f()(Date.parse(e.time),n?"mm/dd/yy":"mm/dd/yyyy")||""),j("div",{title:I[e.type].verboseName,className:"jsx-2690140266 col-3 col-md-2 d-flex"},j("img",{src:"/images/history/".concat(I[e.type].imageName),className:"jsx-2690140266 mr-2 mr-md-3 type-icon"}),I[e.type].name),j("div",{title:e.from_address,onClick:function(){e.from_address&&window.open("https://snowtrace.io/address/".concat(e.from_address),"_blank")},className:"jsx-2690140266 "+"d-none d-md-flex col-2 ".concat(e.from_address?"clickable":"")},e.from_address?Object(g.f)(e.from_address):"-"),j("div",{title:e.to_address,onClick:function(){e.from_address&&window.open("https://snowtrace.io/address/".concat(e.to_address),"_blank")},className:"jsx-2690140266 "+"d-none d-md-flex col-2 ".concat(e.to_address?"clickable":"")},e.to_address?Object(g.f)(e.to_address):"-"),j("div",{className:"jsx-2690140266 col-3 col-md-2 d-flex justify-content-end pr-md-5"},e.amount?j(N,{value:e.amount,isMobile:n}):"-"),j("div",{className:"jsx-2690140266 col-3 col-md-2 d-flex justify-content-end pr-md-5 relative"},e.balance?j(N,{value:e.balance,isMobile:n}):"-",j("div",{className:"jsx-2690140266 etherscan-link"},j("a",{href:"https://snowtrace.io/tx/".concat(e.tx_hash),target:"_blank",rel:"noopener noreferrer",className:"jsx-2690140266"},j("img",{src:"/images/link-icon-grey.svg",className:"jsx-2690140266 "})))))}))),j("div",{className:"jsx-2690140266 pagination d-flex justify-content-center justify-content-md-start"},L.map((function(e,t){var n=e===H,r=t>0&&e-L[t-1]!==1;return j("div",{key:e,className:"jsx-2690140266 d-flex"},r&&j("div",{className:"jsx-2690140266 page-skip d-flex align-items-center justify-content-center"},"..."),j("div",{onClick:function(){n||U(e)},className:"jsx-2690140266 "+"page-number ".concat(n?"current":""," d-flex align-items-center justify-content-center")},e))})))),!k&&j("div",{className:"jsx-2690140266 m-4"},p.fbt._("Loading...",null,{hk:"2CPasx"}))),j(c.a,{id:"2690140266"},[".holder.jsx-2690140266{border-radius:10px;box-shadow:0 0 14px 0 rgba(0,0,0,0.1);border:solid 1px #e9eff4;background-color:#fafbfc;color:black;}",".history-holder.jsx-2690140266{padding-left:40px;padding-right:40px;padding-top:24px;background-color:white;}",".grey-font.jsx-2690140266{color:#8293a4;font-size:12px;}",".border-bt.jsx-2690140266{border-bottom:1px solid #cdd7e0;}",".pb-10.jsx-2690140266{padding-bottom:10px;}",".pb-20.jsx-2690140266{padding-bottom:20px;}",".pt-20.jsx-2690140266{padding-top:20px;}",".history-item.jsx-2690140266{font-size:14px;}",".type-icon.jsx-2690140266{width:11px;}",".etherscan-link.jsx-2690140266{position:absolute;right:12px;top:0;}",".filters.jsx-2690140266{padding:40px;background-color:#fafbfc;border-bottom:solid 1px #e9eff4;border-radius:10px;}",".pagination.jsx-2690140266{padding:40px;background-color:#fafbfc;border-top:solid 1px #e9eff4;border-radius:10px;}",".page-number.jsx-2690140266{cursor:pointer;color:#8293a4;min-width:40px;min-height:40px;border-radius:5px;border:solid 1px #cdd7e0;margin-right:10px;font-size:14px;cursor:pointer;padding-left:15px;padding-right:15px;}",".page-skip.jsx-2690140266{color:#8293a4;margin-right:10px;min-width:40px;min-height:40px;}",".page-number.current.jsx-2690140266,.page-number.current.jsx-2690140266:hover{background-color:black;color:white;}",".page-number.jsx-2690140266:hover{background-color:#edf2f5;}",".clickable.jsx-2690140266:hover{-webkit-text-decoration:underline;text-decoration:underline;cursor:pointer;}",".button.jsx-2690140266{color:black;min-width:93px;min-height:40px;border-radius:5px;border:solid 1px black;margin-right:10px;font-family:Lato;font-size:14px;cursor:pointer;}",".button.selected.jsx-2690140266,.button.selected.jsx-2690140266:hover{background-color:black;color:white;}",".button.jsx-2690140266:hover{background-color:#edf2f5;}","@media (max-width:799px){.filters.jsx-2690140266{padding:20px;padding-bottom:0;}.history-holder.jsx-2690140266{padding-left:20px;padding-right:20px;padding-top:20px;}.etherscan-link.jsx-2690140266{position:absolute;right:-4px;top:0;}.page-skip.jsx-2690140266{margin-right:8px;min-width:25px;}.page-number.jsx-2690140266{min-width:25px;margin-right:8px;padding-left:10px;padding-right:10px;}.pagination.jsx-2690140266{padding:20px;}.button.jsx-2690140266{min-width:80px;min-height:35px;margin-right:8px;font-size:14px;margin-bottom:20px;}}"]))}))}).call(this,n("8oxB"))},EjRs:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return n("i8sU")}])},KLTg:function(e,t,n){"use strict";n("MX0m");var r=n("q1tI"),a=n.n(r);a.a.createElement},i8sU:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n("MX0m"),a=n.n(r),o=n("q1tI"),i=n.n(o),s=n("Z6YE"),c=n("bExK"),l=n("Bl7J"),d=n("85Sb"),u=n("rJ65"),m=n("74gf"),f=n("Dz5q"),p=i.a.createElement;function x(e){var t=e.locale,n=e.onLocale,r=Object(s.useWeb3React)().active;return p(i.a.Fragment,null,p(l.a,{locale:t,onLocale:n,dapp:!0},p(d.a,{dapp:!0,page:"history",locale:t,onLocale:n}),p("div",{className:"jsx-4114780386 d-flex flex-column p-0 pt-md-5"},p(u.a,null),r&&p(m.a,null),!r&&p("div",{className:"jsx-4114780386 empty-placeholder d-flex flex-column align-items-center justify-content-start"},p("img",{src:"/images/wallet-icons.svg",className:"jsx-4114780386"}),p("div",{className:"jsx-4114780386 header-text"},c.fbt._("No wallet connected",null,{hk:"4d7d8o"})),p("div",{className:"jsx-4114780386 subtext"},c.fbt._("Please connect an Ethereum wallet",null,{hk:"4p8WTT"})),p(f.a,{primary:!0,connect:!0,trackSource:"Dapp widget body"})))),p(a.a,{id:"4114780386"},[".empty-placeholder.jsx-4114780386{min-height:470px;height:100%;padding:70px;border-radius:0 0 10px 10px;border-top:solid 1px #cdd7e0;background-color:#fafbfc;}",".header-text.jsx-4114780386{font-size:22px;line-height:0.86;text-align:center;color:black;margin-top:23px;margin-bottom:10px;}",".subtext.jsx-4114780386{font-size:14px;line-height:1.36;text-align:center;color:#8293a4;margin-bottom:50px;}","@media (max-width:799px){}"]))}},ubkq:function(e,t,n){"use strict";var r;function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o){var i=arguments,s=function(){var e=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,a,o,f){if(1!==i.length||"string"!==m(r)||/\d/.test(r)||(a=r,r=void 0),(r=r||0===r?r:new Date)instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");var p=(a=String(s.masks[a]||a||s.masks.default)).slice(0,4);"UTC:"!==p&&"GMT:"!==p||(a=a.slice(4),o=!0,"GMT:"===p&&(f=!0));var x=function(){return o?"getUTC":"get"},b=function(){return r[x()+"Date"]()},g=function(){return r[x()+"Day"]()},h=function(){return r[x()+"Month"]()},y=function(){return r[x()+"FullYear"]()},j=function(){return r[x()+"Hours"]()},v=function(){return r[x()+"Minutes"]()},N=function(){return r[x()+"Seconds"]()},k=function(){return r[x()+"Milliseconds"]()},_=function(){return o?0:r.getTimezoneOffset()},w=function(){return d(r)},M={d:function(){return b()},dd:function(){return c(b())},ddd:function(){return s.i18n.dayNames[g()]},DDD:function(){return l({y:y(),m:h(),d:b(),_:x(),dayName:s.i18n.dayNames[g()],short:!0})},dddd:function(){return s.i18n.dayNames[g()+7]},DDDD:function(){return l({y:y(),m:h(),d:b(),_:x(),dayName:s.i18n.dayNames[g()+7]})},m:function(){return h()+1},mm:function(){return c(h()+1)},mmm:function(){return s.i18n.monthNames[h()]},mmmm:function(){return s.i18n.monthNames[h()+12]},yy:function(){return String(y()).slice(2)},yyyy:function(){return c(y(),4)},h:function(){return j()%12||12},hh:function(){return c(j()%12||12)},H:function(){return j()},HH:function(){return c(j())},M:function(){return v()},MM:function(){return c(v())},s:function(){return N()},ss:function(){return c(N())},l:function(){return c(k(),3)},L:function(){return c(Math.floor(k()/10))},t:function(){return j()<12?s.i18n.timeNames[0]:s.i18n.timeNames[1]},tt:function(){return j()<12?s.i18n.timeNames[2]:s.i18n.timeNames[3]},T:function(){return j()<12?s.i18n.timeNames[4]:s.i18n.timeNames[5]},TT:function(){return j()<12?s.i18n.timeNames[6]:s.i18n.timeNames[7]},Z:function(){return f?"GMT":o?"UTC":(String(r).match(t)||[""]).pop().replace(n,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(_()>0?"-":"+")+c(100*Math.floor(Math.abs(_())/60)+Math.abs(_())%60,4)},p:function(){return(_()>0?"-":"+")+c(Math.floor(Math.abs(_())/60),2)+":"+c(Math.floor(Math.abs(_())%60),2)},S:function(){return["th","st","nd","rd"][b()%10>3?0:(b()%100-b()%10!=10)*b()%10]},W:function(){return w()},WW:function(){return c(w())},N:function(){return u(r)}};return a.replace(e,(function(e){return e in M?M[e]():e.slice(1,e.length-1)}))}}();s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var c=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},l=function(e){var t=e.y,n=e.m,r=e.d,a=e._,o=e.dayName,i=e.short,s=void 0!==i&&i,c=new Date,l=new Date;l.setDate(l[a+"Date"]()-1);var d=new Date;d.setDate(d[a+"Date"]()+1);return c[a+"FullYear"]()===t&&c[a+"Month"]()===n&&c[a+"Date"]()===r?s?"Tdy":"Today":l[a+"FullYear"]()===t&&l[a+"Month"]()===n&&l[a+"Date"]()===r?s?"Ysd":"Yesterday":d[a+"FullYear"]()===t&&d[a+"Month"]()===n&&d[a+"Date"]()===r?s?"Tmw":"Tomorrow":o},d=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var a=(t-n)/6048e5;return 1+Math.floor(a)},u=function(e){var t=e.getDay();return 0===t&&(t=7),t},m=function(e){return null===e?"null":void 0===e?"undefined":"object"!==a(e)?a(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()};void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}(void 0)}},[["EjRs",0,1,3,4,2,5,6]]]);